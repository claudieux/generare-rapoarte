(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function E_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Tf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function PE(){if(ey)return Ll;ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var ny;function BE(){return ny||(ny=1,Tf.exports=PE()),Tf.exports}var W=BE(),Af={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function kE(){if(iy)return Rt;iy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,nt={};function J(D,Z,rt){this.props=D,this.context=Z,this.refs=nt,this.updater=rt||H}J.prototype.isReactComponent={},J.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function St(){}St.prototype=J.prototype;function dt(D,Z,rt){this.props=D,this.context=Z,this.refs=nt,this.updater=rt||H}var pt=dt.prototype=new St;pt.constructor=dt,tt(pt,J.prototype),pt.isPureReactComponent=!0;var Mt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function N(D,Z,rt,z,Y,at){return rt=at.ref,{$$typeof:s,type:D,key:Z,ref:rt!==void 0?rt:null,props:at}}function b(D,Z){return N(D.type,Z,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function M(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return Z[rt]})}var V=/\/+/g;function U(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):Z.toString(36)}function R(){}function ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Kt(D,Z,rt,z,Y){var at=typeof D;(at==="undefined"||at==="boolean")&&(D=null);var st=!1;if(D===null)st=!0;else switch(at){case"bigint":case"string":case"number":st=!0;break;case"object":switch(D.$$typeof){case s:case e:st=!0;break;case A:return st=D._init,Kt(st(D._payload),Z,rt,z,Y)}}if(st)return Y=Y(D),st=z===""?"."+U(D,0):z,Mt(Y)?(rt="",st!=null&&(rt=st.replace(V,"$&/")+"/"),Kt(Y,Z,rt,"",function(en){return en})):Y!=null&&(w(Y)&&(Y=b(Y,rt+(Y.key==null||D&&D.key===Y.key?"":(""+Y.key).replace(V,"$&/")+"/")+st)),Z.push(Y)),1;st=0;var ie=z===""?".":z+":";if(Mt(D))for(var Bt=0;Bt<D.length;Bt++)z=D[Bt],at=ie+U(z,Bt),st+=Kt(z,Z,rt,at,Y);else if(Bt=x(D),typeof Bt=="function")for(D=Bt.call(D),Bt=0;!(z=D.next()).done;)z=z.value,at=ie+U(z,Bt++),st+=Kt(z,Z,rt,at,Y);else if(at==="object"){if(typeof D.then=="function")return Kt(ee(D),Z,rt,z,Y);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return st}function G(D,Z,rt){if(D==null)return D;var z=[],Y=0;return Kt(D,z,"","",function(at){return Z.call(rt,at,Y++)}),z}function it(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function xt(){}return Rt.Children={map:G,forEach:function(D,Z,rt){G(D,function(){Z.apply(this,arguments)},rt)},count:function(D){var Z=0;return G(D,function(){Z++}),Z},toArray:function(D){return G(D,function(Z){return Z})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=J,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=dt,Rt.StrictMode=r,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return yt.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,Z,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var z=tt({},D.props),Y=D.key,at=void 0;if(Z!=null)for(st in Z.ref!==void 0&&(at=void 0),Z.key!==void 0&&(Y=""+Z.key),Z)!bt.call(Z,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&Z.ref===void 0||(z[st]=Z[st]);var st=arguments.length-2;if(st===1)z.children=rt;else if(1<st){for(var ie=Array(st),Bt=0;Bt<st;Bt++)ie[Bt]=arguments[Bt+2];z.children=ie}return N(D.type,Y,void 0,void 0,at,z)},Rt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Rt.createElement=function(D,Z,rt){var z,Y={},at=null;if(Z!=null)for(z in Z.key!==void 0&&(at=""+Z.key),Z)bt.call(Z,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Y[z]=Z[z]);var st=arguments.length-2;if(st===1)Y.children=rt;else if(1<st){for(var ie=Array(st),Bt=0;Bt<st;Bt++)ie[Bt]=arguments[Bt+2];Y.children=ie}if(D&&D.defaultProps)for(z in st=D.defaultProps,st)Y[z]===void 0&&(Y[z]=st[z]);return N(D,at,void 0,void 0,null,Y)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:y,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:it}},Rt.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},Rt.startTransition=function(D){var Z=yt.T,rt={};yt.T=rt;try{var z=D(),Y=yt.S;Y!==null&&Y(rt,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(xt,ct)}catch(at){ct(at)}finally{yt.T=Z}},Rt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Rt.use=function(D){return yt.H.use(D)},Rt.useActionState=function(D,Z,rt){return yt.H.useActionState(D,Z,rt)},Rt.useCallback=function(D,Z){return yt.H.useCallback(D,Z)},Rt.useContext=function(D){return yt.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,Z){return yt.H.useDeferredValue(D,Z)},Rt.useEffect=function(D,Z,rt){var z=yt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(D,Z)},Rt.useId=function(){return yt.H.useId()},Rt.useImperativeHandle=function(D,Z,rt){return yt.H.useImperativeHandle(D,Z,rt)},Rt.useInsertionEffect=function(D,Z){return yt.H.useInsertionEffect(D,Z)},Rt.useLayoutEffect=function(D,Z){return yt.H.useLayoutEffect(D,Z)},Rt.useMemo=function(D,Z){return yt.H.useMemo(D,Z)},Rt.useOptimistic=function(D,Z){return yt.H.useOptimistic(D,Z)},Rt.useReducer=function(D,Z,rt){return yt.H.useReducer(D,Z,rt)},Rt.useRef=function(D){return yt.H.useRef(D)},Rt.useState=function(D){return yt.H.useState(D)},Rt.useSyncExternalStore=function(D,Z,rt){return yt.H.useSyncExternalStore(D,Z,rt)},Rt.useTransition=function(){return yt.H.useTransition()},Rt.version="19.1.1",Rt}var ay;function od(){return ay||(ay=1,Af.exports=kE()),Af.exports}var tn=od();const jE=E_(tn);var bf={exports:{}},Pl={},Sf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function qE(){return ry||(ry=1,(function(s){function e(G,it){var ct=G.length;G.push(it);t:for(;0<ct;){var xt=ct-1>>>1,D=G[xt];if(0<o(D,it))G[xt]=it,G[ct]=D,ct=xt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var it=G[0],ct=G.pop();if(ct!==it){G[0]=ct;t:for(var xt=0,D=G.length,Z=D>>>1;xt<Z;){var rt=2*(xt+1)-1,z=G[rt],Y=rt+1,at=G[Y];if(0>o(z,ct))Y<D&&0>o(at,z)?(G[xt]=at,G[Y]=ct,xt=Y):(G[xt]=z,G[rt]=ct,xt=rt);else if(Y<D&&0>o(at,ct))G[xt]=at,G[Y]=ct,xt=Y;else break t}}return it}function o(G,it){var ct=G.sortIndex-it.sortIndex;return ct!==0?ct:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,C=null,x=3,H=!1,tt=!1,nt=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Mt(G){for(var it=i(_);it!==null;){if(it.callback===null)r(_);else if(it.startTime<=G)r(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function yt(G){if(nt=!1,Mt(G),!tt)if(i(v)!==null)tt=!0,bt||(bt=!0,U());else{var it=i(_);it!==null&&Kt(yt,it.startTime-G)}}var bt=!1,N=-1,b=5,w=-1;function M(){return J?!0:!(s.unstable_now()-w<b)}function V(){if(J=!1,bt){var G=s.unstable_now();w=G;var it=!0;try{t:{tt=!1,nt&&(nt=!1,dt(N),N=-1),H=!0;var ct=x;try{e:{for(Mt(G),C=i(v);C!==null&&!(C.expirationTime>G&&M());){var xt=C.callback;if(typeof xt=="function"){C.callback=null,x=C.priorityLevel;var D=xt(C.expirationTime<=G);if(G=s.unstable_now(),typeof D=="function"){C.callback=D,Mt(G),it=!0;break e}C===i(v)&&r(v),Mt(G)}else r(v);C=i(v)}if(C!==null)it=!0;else{var Z=i(_);Z!==null&&Kt(yt,Z.startTime-G),it=!1}}break t}finally{C=null,x=ct,H=!1}it=void 0}}finally{it?U():bt=!1}}}var U;if(typeof pt=="function")U=function(){pt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=V,U=function(){ee.postMessage(null)}}else U=function(){St(V,0)};function Kt(G,it){N=St(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var ct=x;x=it;try{return G()}finally{x=ct}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=x;x=G;try{return it()}finally{x=ct}},s.unstable_scheduleCallback=function(G,it,ct){var xt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?xt+ct:xt):ct=xt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,G={id:A++,callback:it,priorityLevel:G,startTime:ct,expirationTime:D,sortIndex:-1},ct>xt?(G.sortIndex=ct,e(_,G),i(v)===null&&G===i(_)&&(nt?(dt(N),N=-1):nt=!0,Kt(yt,ct-xt))):(G.sortIndex=D,e(v,G),tt||H||(tt=!0,bt||(bt=!0,U()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var it=x;return function(){var ct=x;x=it;try{return G.apply(this,arguments)}finally{x=ct}}}})(Rf)),Rf}var sy;function HE(){return sy||(sy=1,Sf.exports=qE()),Sf.exports}var wf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function GE(){if(ly)return Qe;ly=1;var s=od();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:H}):A==="script"&&r.d.X(v,{crossOrigin:C,integrity:x,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var oy;function QE(){if(oy)return wf.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wf.exports=GE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function FE(){if(uy)return Pl;uy=1;var s=HE(),e=od(),i=QE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===a){p=!0,a=c,l=f;break}if(E===l){p=!0,l=c,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=c;break}if(E===l){p=!0,l=f,a=c;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case yt:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case pt:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Kt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},xt=[],D=-1;function Z(t){return{current:t}}function rt(t){0>D||(t.current=xt[D],xt[D]=null,D--)}function z(t,n){D++,xt[D]=t.current,t.current=n}var Y=Z(null),at=Z(null),st=Z(null),ie=Z(null);function Bt(t,n){switch(z(st,n),z(at,t),z(Y,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Vp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Vp(n),t=Np(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(Y),z(Y,t)}function en(){rt(Y),rt(at),rt(st)}function Sr(t){t.memoizedState!==null&&z(ie,t);var n=Y.current,a=Np(n,t.type);n!==a&&(z(at,t),z(Y,a))}function Ui(t){at.current===t&&(rt(Y),rt(at)),ie.current===t&&(rt(ie),xl._currentValue=ct)}var jn=Object.prototype.hasOwnProperty,pe=s.unstable_scheduleCallback,je=s.unstable_cancelCallback,Tc=s.unstable_shouldYield,xs=s.unstable_requestPaint,nn=s.unstable_now,co=s.unstable_getCurrentPriorityLevel,Te=s.unstable_ImmediatePriority,De=s.unstable_UserBlockingPriority,ci=s.unstable_NormalPriority,Ac=s.unstable_LowPriority,Ms=s.unstable_IdlePriority,bc=s.log,Ua=s.unstable_setDisableYieldValue,zi=null,qe=null;function _n(t){if(typeof bc=="function"&&Ua(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(zi,t)}catch{}}var Ke=Math.clz32?Math.clz32:fo,Sc=Math.log,ho=Math.LN2;function fo(t){return t>>>=0,t===0?32:31-(Sc(t)/ho|0)|0}var qn=256,Li=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(p&=E,p!==0?c=In(p):a||(a=E&~t,a!==0&&(c=In(a))))):(E=l&~f,E!==0?c=In(E):p!==0?c=In(p):a||(a=l&~t,a!==0&&(c=In(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Pi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),t}function Bi(){var t=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),t}function wr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mo(t,n,a,l,c,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,B=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-Ke(a),X=1<<Q;E[Q]=0,S[Q]=-1;var k=B[Q];if(k!==null)for(B[Q]=null,Q=0;Q<k.length;Q++){var j=k[Q];j!==null&&(j.lane&=-536870913)}a&=~X}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ji(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Kp(t.type))}function Rc(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var Hn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Hn,Oe="__reactProps$"+Hn,fi="__reactContainer$"+Hn,za="__reactEvents$"+Hn,La="__reactListeners$"+Hn,wc="__reactHandles$"+Hn,xn="__reactResources$"+Hn,qi="__reactMarker$"+Hn;function Cr(t){delete t[ce],delete t[Oe],delete t[za],delete t[La],delete t[wc]}function Gn(t){var n=t[ce];if(n)return n;for(var a=t.parentNode;a;){if(n=a[fi]||a[ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Op(t);t!==null;){if(a=t[ce])return a;t=Op(t)}return n}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[ce]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Gi(t){var n=t[xn];return n||(n=t[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[qi]=!0}var go=new Set,Pa={};function Fn(t,n){Yn(t,n),Yn(t+"Capture",n)}function Yn(t,n){for(Pa[t]=n,t=0;t<n.length;t++)go.add(n[t])}var Ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xn={},Dr={};function Cc(t){return jn.call(Dr,t)?!0:jn.call(Xn,t)?!1:Ba.test(t)?Dr[t]=!0:(Xn[t]=!0,!1)}function ka(t,n,a){if(Cc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ja(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function En(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var qa,Vr;function di(t){if(qa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qa=n&&n[1]||"",Vr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+Vr}var Nr=!1;function Ir(t,n){if(!t||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var k=j}Reflect.construct(t,[],X)}else{try{X.call()}catch(j){k=j}t.call(X.prototype)}}else{try{throw Error()}catch(j){k=j}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var S=p.split(`
`),B=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===B.length)for(l=S.length-1,c=B.length-1;1<=l&&0<=c&&S[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==B[c]){var Q=`
`+S[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?di(a):""}function Dc(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Ir(t.type,!1);case 11:return Ir(t.type.render,!1);case 1:return Ir(t.type,!0);case 31:return di("Activity");default:return""}}function Mn(t){try{var n="";do n+=Dc(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ha(t){var n=Qi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fi(t){t._valueTracker||(t._valueTracker=Ha(t))}function Gt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function Ve(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ls(t,n,a,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ae(n)):t.value!==""+ae(n)&&(t.value=""+ae(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Bs(t,p,ae(n)):a!=null?Bs(t,p,ae(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ae(E):t.removeAttribute("name")}function Ps(t,n,a,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+ae(a):"",n=n!=null?""+ae(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Bs(t,n,a){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ae(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function po(t,n,a){if(n!=null&&(n=""+ae(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ae(a):""}function yo(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Kt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ae(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||gi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function js(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&ks(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ks(t,f,n[f])}function xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(t){return vo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qs=null;function Hs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Ze=null;function Eo(t){var n=Qn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ls(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Ls(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Gt(l)}break t;case"textarea":po(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yi(t,!!a.multiple,n,!1)}}}var Qa=!1;function Fa(t,n,a){if(Qa)return t(n,a);Qa=!0;try{var l=t(n);return l}finally{if(Qa=!1,(Xi!==null||Ze!==null)&&(uu(),Xi&&(n=Xi,t=Ze,Ze=Xi=null,Eo(n),t)))for(n=0;n<t.length;n++)Eo(t[n])}}function Ki(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var $e=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if($e)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){pi=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{pi=!1}var An=null,Zt=null,Mr=null;function To(){if(Mr)return Mr;var t,n=Zt,a=n.length,l,c="value"in An?An.value:An.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return Mr=c.slice(t,1<l?1-l:void 0)}function Ya(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xa(){return!0}function Gs(){return!1}function Ae(t){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xa:Gs,this.isPropagationStopped=Gs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Ae(He),Za=A({},He,{view:0,detail:0}),$a=Ae(Za),Or,Ja,Kn,Wa=A({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Or=t.screenX-Kn.screenX,Ja=t.screenY-Kn.screenY):Ja=Or=0,Kn=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),tr=Ae(Wa),Vc=A({},Wa,{dataTransfer:0}),Ao=Ae(Vc),er=A({},Za,{relatedTarget:0}),Ur=Ae(er),bo=A({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=Ae(bo),Fs=A({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),So=Ae(Fs),zr=A({},He,{data:0}),Ys=Ae(zr),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function Lr(){return Co}var Do=A({},Za,{key:function(t){if(t.key){var n=Ro[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pr=Ae(Do),Je=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Ae(Je),Vo=A({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),$i=Ae(Vo),u=A({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ae(u),g=A({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Ae(g),P=A({},He,{newState:0,oldState:0}),q=Ae(P),et=[9,13,27,32],Tt=$e&&"CompositionEvent"in window,Jt=null;$e&&"documentMode"in document&&(Jt=document.documentMode);var jt=$e&&"TextEvent"in window&&!Jt,fe=$e&&(!Tt||Jt&&8<Jt&&11>=Jt),un=" ",Zn=!1;function Un(t,n){switch(t){case"keyup":return et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function Ks(t,n){switch(t){case"compositionend":return zn(n);case"keypress":return n.which!==32?null:(Zn=!0,un);case"textInput":return t=n.data,t===un&&Zn?null:t;default:return null}}function h0(t,n){if(Ln)return t==="compositionend"||!Tt&&Un(t,n)?(t=To(),Mr=Zt=An=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!f0[t.type]:n==="textarea"}function Gd(t,n,a,l){Xi?Ze?Ze.push(l):Ze=[l]:Xi=l,n=gu(n,"onChange"),0<n.length&&(a=new Ka("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Zs=null,$s=null;function d0(t){Sp(t,0)}function No(t){var n=Hi(t);if(Gt(n))return t}function Qd(t,n){if(t==="change")return n}var Fd=!1;if($e){var Nc;if($e){var Ic="oninput"in document;if(!Ic){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Ic=typeof Yd.oninput=="function"}Nc=Ic}else Nc=!1;Fd=Nc&&(!document.documentMode||9<document.documentMode)}function Xd(){Zs&&(Zs.detachEvent("onpropertychange",Kd),$s=Zs=null)}function Kd(t){if(t.propertyName==="value"&&No($s)){var n=[];Gd(n,$s,t,Hs(t)),Fa(d0,n)}}function m0(t,n,a){t==="focusin"?(Xd(),Zs=n,$s=a,Zs.attachEvent("onpropertychange",Kd)):t==="focusout"&&Xd()}function g0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No($s)}function p0(t,n){if(t==="click")return No(n)}function y0(t,n){if(t==="input"||t==="change")return No(n)}function _0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:_0;function Js(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!jn.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,n){var a=Zd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zd(a)}}function Jd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mi(t.document)}return n}function xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var v0=$e&&"documentMode"in document&&11>=document.documentMode,Br=null,Mc=null,Ws=null,Oc=!1;function tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oc||Br==null||Br!==mi(l)||(l=Br,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=gu(Mc,"onSelect"),0<l.length&&(n=new Ka("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Br)))}function nr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var kr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},Uc={},em={};$e&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function ir(t){if(Uc[t])return Uc[t];if(!kr[t])return t;var n=kr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in em)return Uc[t]=n[a];return t}var nm=ir("animationend"),im=ir("animationiteration"),am=ir("animationstart"),E0=ir("transitionrun"),T0=ir("transitionstart"),A0=ir("transitioncancel"),rm=ir("transitionend"),sm=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function Pn(t,n){sm.set(t,n),Fn(n,[t])}var lm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=lm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Mn(n)},lm.set(t,n),n)}return{value:t,source:n,stack:Mn(n)}}var Sn=[],jr=0,Lc=0;function Io(){for(var t=jr,n=Lc=jr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&om(a,c,f)}}function xo(t,n,a,l){Sn[jr++]=t,Sn[jr++]=n,Sn[jr++]=a,Sn[jr++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,a,l){return xo(t,n,a,l),Mo(t)}function qr(t,n){return xo(t,null,null,n),Mo(t)}function om(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Mo(t){if(50<Sl)throw Sl=0,Gh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hr={};function b0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new b0(t,n,a,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function um(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Oo(t,n,a,l,c,f){var p=0;if(l=t,typeof t=="function")Bc(t)&&(p=1);else if(typeof t=="string")p=RE(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=hn(31,a,n,c),t.elementType=w,t.lanes=f,t;case tt:return ar(a.children,c,f,n);case nt:p=8,c|=24;break;case J:return t=hn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case yt:return t=hn(13,a,n,c),t.elementType=yt,t.lanes=f,t;case bt:return t=hn(19,a,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case pt:p=10;break t;case dt:p=9;break t;case Mt:p=11;break t;case N:p=14;break t;case b:p=16,l=null;break t}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=hn(p,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ar(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function kc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function jc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gr=[],Qr=0,Uo=null,zo=0,Rn=[],wn=0,rr=null,vi=1,Ei="";function sr(t,n){Gr[Qr++]=zo,Gr[Qr++]=Uo,Uo=t,zo=n}function cm(t,n,a){Rn[wn++]=vi,Rn[wn++]=Ei,Rn[wn++]=rr,rr=t;var l=vi;t=Ei;var c=32-Ke(l)-1;l&=~(1<<c),a+=1;var f=32-Ke(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,vi=1<<32-Ke(n)+c|a<<c|l,Ei=f+t}else vi=1<<f|a<<c|l,Ei=t}function qc(t){t.return!==null&&(sr(t,1),cm(t,1,0))}function Hc(t){for(;t===Uo;)Uo=Gr[--Qr],Gr[Qr]=null,zo=Gr[--Qr],Gr[Qr]=null;for(;t===rr;)rr=Rn[--wn],Rn[wn]=null,Ei=Rn[--wn],Rn[wn]=null,vi=Rn[--wn],Rn[wn]=null}var We=null,le=null,Pt=!1,lr=null,$n=!1,Gc=Error(r(519));function or(t){var n=Error(r(418,""));throw nl(bn(n,t)),Gc}function hm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ce]=t,n[Oe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Vt(wl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ps(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fi(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),yo(n,l.value,l.defaultValue,l.children),Fi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Dp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=pu),n=!0):n=!1,n||or(t)}function fm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:We=We.return}}function tl(t){if(t!==We)return!1;if(!Pt)return fm(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&le&&or(t),fm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){le=kn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,da(t.type)?(t=hf,hf=null,le=t):le=n):le=We?kn(t.stateNode.nextSibling):null;return!0}function el(){le=We=null,Pt=!1}function dm(){var t=lr;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),lr=null),t}function nl(t){lr===null?lr=[t]:lr.push(t)}var Qc=Z(null),ur=null,Ti=null;function Ji(t,n,a){z(Qc,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=Qc.current,rt(Qc)}function Fc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Yc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Fc(f.return,a,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Fc(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=c.type;cn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===ie.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Yc(n,t,a,l),n.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cr(t){ur=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return mm(ur,t)}function Po(t,n){return ur===null&&cr(t),mm(t,n)}function mm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(r(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var S0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},R0=s.unstable_scheduleCallback,w0=s.unstable_NormalPriority,be={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new S0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&R0(w0,function(){t.controller.abort()})}var rl=null,Kc=0,Fr=0,Yr=null;function C0(t,n){if(rl===null){var a=rl=[];Kc=0,Fr=$h(),Yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kc++,n.then(gm,gm),n}function gm(){if(--Kc===0&&rl!==null){Yr!==null&&(Yr.status="fulfilled");var t=rl;rl=null,Fr=0,Yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function D0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var pm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&C0(t,n),pm!==null&&pm(t,n)};var hr=Z(null);function Zc(){var t=hr.current;return t!==null?t:$t.pooledCache}function Bo(t,n){n===null?z(hr,hr.current):z(hr,n.pool)}function ym(){var t=Zc();return t===null?null:{parent:be._currentValue,pool:t}}var sl=Error(r(460)),_m=Error(r(474)),ko=Error(r(542)),$c={then:function(){}};function vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jo(){}function Em(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jo,jo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t;default:if(typeof n.status=="string")n.then(jo,jo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t}throw ll=n,sl}}var ll=null;function Tm(){if(ll===null)throw Error(r(459));var t=ll;return ll=null,t}function Am(t){if(t===sl||t===ko)throw Error(r(483))}var Wi=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ta(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ea(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),om(t,null,a),n}return xo(t,l,n,a),Mo(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ji(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function ul(){if(eh){var t=Yr;if(t!==null)throw t}}function cl(t,n,a,l){eh=!1;var c=t.updateQueue;Wi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,B=S.next;S.next=null,p===null?f=B:p.next=B,p=S;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=S))}if(f!==null){var X=c.baseState;p=0,Q=B=S=null,E=f;do{var k=E.lane&-536870913,j=k!==E.lane;if(j?(Ot&k)===k:(l&k)===k){k!==0&&k===Fr&&(eh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,mt=E;k=n;var Yt=a;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){X=vt.call(Yt,X,k);break t}X=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,k=typeof vt=="function"?vt.call(Yt,X,k):vt,k==null)break t;X=A({},X,k);break t;case 2:Wi=!0}}k=E.callback,k!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[k]:j.push(k))}else j={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=j,S=X):Q=Q.next=j,p|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);Q===null&&(S=X),c.baseState=S,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ua|=p,t.lanes=p,t.memoizedState=X}}function bm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bm(a[t],n)}var Xr=Z(null),qo=Z(0);function Rm(t,n){t=Vi,z(qo,t),z(Xr,n),Vi=t|n.baseLanes}function nh(){z(qo,Vi),z(Xr,Xr.current)}function ih(){Vi=qo.current,rt(Xr),rt(qo)}var na=0,wt=null,Qt=null,ye=null,Ho=!1,Kr=!1,fr=!1,Go=0,hl=0,Zr=null,V0=0;function de(){throw Error(r(321))}function ah(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function rh(t,n,a,l,c,f){return na=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?og:ug,fr=!1,f=a(l,c),fr=!1,Kr&&(f=Cm(n,a,l,c)),wm(t),f}function wm(t){G.H=Zo;var n=Qt!==null&&Qt.next!==null;if(na=0,ye=Qt=wt=null,Ho=!1,hl=0,Zr=null,n)throw Error(r(300));t===null||Ne||(t=t.dependencies,t!==null&&Lo(t)&&(Ne=!0))}function Cm(t,n,a,l){wt=t;var c=0;do{if(Kr&&(Zr=null),hl=0,Kr=!1,25<=c)throw Error(r(301));if(c+=1,ye=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=z0,f=n(a,l)}while(Kr);return f}function N0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function sh(){var t=Go!==0;return Go=0,t}function lh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function oh(t){if(Ho){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ho=!1}na=0,ye=Qt=wt=null,Kr=!1,hl=Go=0,Zr=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?wt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ye===null?wt.memoizedState:ye.next;if(n!==null)ye=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?wt.memoizedState=ye=t:ye=ye.next=t}return ye}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Zr===null&&(Zr=[]),t=Em(Zr,t,n),n=wt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?og:ug),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===pt)return Ge(t)}throw Error(r(438,String(t)))}function ch(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=uh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function bi(t,n){return typeof n=="function"?n(t):n}function Fo(t){var n=_e();return hh(n,Qt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,S=null,B=n,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Ot&X)===X:(na&X)===X){var k=B.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Fr&&(Q=!0);else if((na&k)===k){B=B.next,k===Fr&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(E=S=X,p=f):S=S.next=X,wt.lanes|=k,ua|=k;X=B.action,fr&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else k={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(E=S=k,p=f):S=S.next=k,wt.lanes|=X,ua|=X;B=B.next}while(B!==null&&B!==n);if(S===null?p=f:S.next=E,!cn(f,t.memoizedState)&&(Ne=!0,Q&&(a=Yr,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=_e(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);cn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Dm(t,n,a){var l=wt,c=_e(),f=Pt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!cn((Qt||c).memoizedState,a);p&&(c.memoizedState=a,Ne=!0),c=c.queue;var E=Im.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||p||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,$r(9,Yo(),Nm.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(na&124)!==0||Vm(l,n,a)}return a}function Vm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=uh(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Nm(t,n,a,l){n.value=a,n.getSnapshot=l,xm(n)&&Mm(t)}function Im(t,n,a){return a(function(){xm(n)&&Mm(t)})}function xm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Mm(t){var n=qr(t,2);n!==null&&pn(n,t,2)}function dh(t){var n=an();if(typeof t=="function"){var a=t;if(t=a(),fr){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Om(t,n,a,l){return t.baseState=a,hh(t,Qt,typeof l=="function"?l:bi)}function I0(t,n,a,l,c){if(Ko(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Um(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Um(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=a(c,l),S=G.S;S!==null&&S(p,E),zm(t,n,E)}catch(B){mh(t,n,B)}finally{G.T=f}}else try{f=a(c,l),zm(t,n,f)}catch(B){mh(t,n,B)}}function zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lm(t,n,l)},function(l){return mh(t,n,l)}):Lm(t,n,a)}function Lm(t,n,a){n.status="fulfilled",n.value=a,Pm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Um(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Pm(n),n=n.next;while(n!==l)}t.action=null}function Pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Bm(t,n){return n}function km(t,n){if(Pt){var a=$t.formState;if(a!==null){t:{var l=wt;if(Pt){if(le){e:{for(var c=le,f=$n;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=kn(c.nextSibling),l=c.data==="F!";break t}}or(l)}l=!1}l&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:n},a.queue=l,a=rg.bind(null,wt,l),l.dispatch=a,l=dh(!1),f=vh.bind(null,wt,!1,l.queue),l=an(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=I0.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function jm(t){var n=_e();return qm(n,Qt,t)}function qm(t,n,a){if(n=hh(t,n,Bm)[0],t=Fo(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(p){throw p===sl?ko:p}else l=n;n=_e();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,$r(9,Yo(),x0.bind(null,c,a),null)),[l,f,t]}function x0(t,n){t.action=n}function Hm(t){var n=_e(),a=Qt;if(a!==null)return qm(n,a,t);_e(),n=n.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $r(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=uh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function Gm(){return _e().memoizedState}function Xo(t,n,a,l){var c=an();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=$r(1|n,Yo(),a,l)}function dl(t,n,a,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&ah(l,Qt.memoizedState.deps)?c.memoizedState=$r(n,f,a,l):(wt.flags|=t,c.memoizedState=$r(1|n,f,a,l))}function Qm(t,n){Xo(8390656,8,t,n)}function Fm(t,n){dl(2048,8,t,n)}function Ym(t,n){return dl(4,2,t,n)}function Xm(t,n){return dl(4,4,t,n)}function Km(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zm(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,Km.bind(null,n,t),a)}function gh(){}function $m(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ah(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Jm(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ah(n,l[1]))return l[0];if(l=t(),fr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function ph(t,n,a){return a===void 0||(na&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ep(),wt.lanes|=t,ua|=t,a)}function Wm(t,n,a,l){return cn(a,n)?a:Xr.current!==null?(t=ph(t,a,l),cn(t,n)||(Ne=!0),t):(na&42)===0?(Ne=!0,t.memoizedState=a):(t=ep(),wt.lanes|=t,ua|=t,n)}function tg(t,n,a,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,vh(t,!1,n,a);try{var S=c(),B=G.S;if(B!==null&&B(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=D0(S,l);ml(t,n,Q,gn(t))}else ml(t,n,l,gn(t))}catch(X){ml(t,n,{then:function(){},status:"rejected",reason:X},gn())}finally{it.p=f,G.T=p}}function M0(){}function yh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=eg(t).queue;tg(t,c,n,ct,a===null?M0:function(){return ng(t),a(l)})}function eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ng(t){var n=eg(t).next.queue;ml(t,n,{},gn())}function _h(){return Ge(xl)}function ig(){return _e().memoizedState}function ag(){return _e().memoizedState}function O0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();t=ta(a);var l=ea(n,t,a);l!==null&&(pn(l,n,a),ol(l,n,a)),n={cache:Xc()},t.payload=n;return}n=n.return}}function U0(t,n,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ko(t)?sg(n,a):(a=Pc(t,n,a,l),a!==null&&(pn(a,t,l),lg(a,n,l)))}function rg(t,n,a){var l=gn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,p))return xo(t,n,c,0),$t===null&&Io(),!1}catch{}finally{}if(a=Pc(t,n,c,l),a!==null)return pn(a,t,l),lg(a,n,l),!0}return!1}function vh(t,n,a,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(n)throw Error(r(479))}else n=Pc(t,a,l,2),n!==null&&pn(n,t,2)}function Ko(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function sg(t,n){Kr=Ho=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function lg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ji(t,a)}}var Zo={readContext:Ge,use:Qo,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},og={readContext:Ge,use:Qo,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Qm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xo(4194308,4,Km.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var a=an();n=n===void 0?null:n;var l=t();if(fr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=an();if(a!==void 0){var c=a(n);if(fr){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=U0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=rg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:gh,useDeferredValue:function(t,n){var a=an();return ph(a,t,n)},useTransition:function(){var t=dh(!1);return t=tg.bind(null,wt,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=an();if(Pt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Ot&124)!==0||Vm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Qm(Im.bind(null,l,f,t),[t]),l.flags|=2048,$r(9,Yo(),Nm.bind(null,l,f,a,n),null),a},useId:function(){var t=an(),n=$t.identifierPrefix;if(Pt){var a=Ei,l=vi;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Go++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=V0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:km,useActionState:km,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=vh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return an().memoizedState=O0.bind(null,wt)}},ug={readContext:Ge,use:Qo,useCallback:$m,useContext:Ge,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Jm,useReducer:Fo,useRef:Gm,useState:function(){return Fo(bi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=_e();return Wm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Fo(bi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:_h,useFormState:jm,useActionState:jm,useOptimistic:function(t,n){var a=_e();return Om(a,Qt,t,n)},useMemoCache:ch,useCacheRefresh:ag},z0={readContext:Ge,use:Qo,useCallback:$m,useContext:Ge,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:Jm,useReducer:fh,useRef:Gm,useState:function(){return fh(bi)},useDebugValue:gh,useDeferredValue:function(t,n){var a=_e();return Qt===null?ph(a,t,n):Wm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=fh(bi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:_h,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var a=_e();return Qt!==null?Om(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:ag},Jr=null,gl=0;function $o(t){var n=gl;return gl+=1,Jr===null&&(Jr=[]),Em(Jr,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){var n=t._init;return n(t._payload)}function hg(t){function n(O,I){if(t){var L=O.deletions;L===null?(O.deletions=[I],O.flags|=16):L.push(I)}}function a(O,I){if(!t)return null;for(;I!==null;)n(O,I),I=I.sibling;return null}function l(O){for(var I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function c(O,I){return O=_i(O,I),O.index=0,O.sibling=null,O}function f(O,I,L){return O.index=L,t?(L=O.alternate,L!==null?(L=L.index,L<I?(O.flags|=67108866,I):L):(O.flags|=67108866,I)):(O.flags|=1048576,I)}function p(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,I,L,F){return I===null||I.tag!==6?(I=kc(L,O.mode,F),I.return=O,I):(I=c(I,L),I.return=O,I)}function S(O,I,L,F){var ot=L.type;return ot===tt?Q(O,I,L.props.children,F,L.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&cg(ot)===I.type)?(I=c(I,L.props),pl(I,L),I.return=O,I):(I=Oo(L.type,L.key,L.props,null,O.mode,F),pl(I,L),I.return=O,I)}function B(O,I,L,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=jc(L,O.mode,F),I.return=O,I):(I=c(I,L.children||[]),I.return=O,I)}function Q(O,I,L,F,ot){return I===null||I.tag!==7?(I=ar(L,O.mode,F,ot),I.return=O,I):(I=c(I,L),I.return=O,I)}function X(O,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=kc(""+I,O.mode,L),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return L=Oo(I.type,I.key,I.props,null,O.mode,L),pl(L,I),L.return=O,L;case H:return I=jc(I,O.mode,L),I.return=O,I;case b:var F=I._init;return I=F(I._payload),X(O,I,L)}if(Kt(I)||U(I))return I=ar(I,O.mode,L,null),I.return=O,I;if(typeof I.then=="function")return X(O,$o(I),L);if(I.$$typeof===pt)return X(O,Po(O,I),L);Jo(O,I)}return null}function k(O,I,L,F){var ot=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(O,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===ot?S(O,I,L,F):null;case H:return L.key===ot?B(O,I,L,F):null;case b:return ot=L._init,L=ot(L._payload),k(O,I,L,F)}if(Kt(L)||U(L))return ot!==null?null:Q(O,I,L,F,null);if(typeof L.then=="function")return k(O,I,$o(L),F);if(L.$$typeof===pt)return k(O,I,Po(O,L),F);Jo(O,L)}return null}function j(O,I,L,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return O=O.get(L)||null,E(I,O,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return O=O.get(F.key===null?L:F.key)||null,S(I,O,F,ot);case H:return O=O.get(F.key===null?L:F.key)||null,B(I,O,F,ot);case b:var Ct=F._init;return F=Ct(F._payload),j(O,I,L,F,ot)}if(Kt(F)||U(F))return O=O.get(L)||null,Q(I,O,F,ot,null);if(typeof F.then=="function")return j(O,I,L,$o(F),ot);if(F.$$typeof===pt)return j(O,I,L,Po(I,F),ot);Jo(I,F)}return null}function vt(O,I,L,F){for(var ot=null,Ct=null,ht=I,gt=I=0,xe=null;ht!==null&&gt<L.length;gt++){ht.index>gt?(xe=ht,ht=null):xe=ht.sibling;var Lt=k(O,ht,L[gt],F);if(Lt===null){ht===null&&(ht=xe);break}t&&ht&&Lt.alternate===null&&n(O,ht),I=f(Lt,I,gt),Ct===null?ot=Lt:Ct.sibling=Lt,Ct=Lt,ht=xe}if(gt===L.length)return a(O,ht),Pt&&sr(O,gt),ot;if(ht===null){for(;gt<L.length;gt++)ht=X(O,L[gt],F),ht!==null&&(I=f(ht,I,gt),Ct===null?ot=ht:Ct.sibling=ht,Ct=ht);return Pt&&sr(O,gt),ot}for(ht=l(ht);gt<L.length;gt++)xe=j(ht,O,gt,L[gt],F),xe!==null&&(t&&xe.alternate!==null&&ht.delete(xe.key===null?gt:xe.key),I=f(xe,I,gt),Ct===null?ot=xe:Ct.sibling=xe,Ct=xe);return t&&ht.forEach(function(_a){return n(O,_a)}),Pt&&sr(O,gt),ot}function mt(O,I,L,F){if(L==null)throw Error(r(151));for(var ot=null,Ct=null,ht=I,gt=I=0,xe=null,Lt=L.next();ht!==null&&!Lt.done;gt++,Lt=L.next()){ht.index>gt?(xe=ht,ht=null):xe=ht.sibling;var _a=k(O,ht,Lt.value,F);if(_a===null){ht===null&&(ht=xe);break}t&&ht&&_a.alternate===null&&n(O,ht),I=f(_a,I,gt),Ct===null?ot=_a:Ct.sibling=_a,Ct=_a,ht=xe}if(Lt.done)return a(O,ht),Pt&&sr(O,gt),ot;if(ht===null){for(;!Lt.done;gt++,Lt=L.next())Lt=X(O,Lt.value,F),Lt!==null&&(I=f(Lt,I,gt),Ct===null?ot=Lt:Ct.sibling=Lt,Ct=Lt);return Pt&&sr(O,gt),ot}for(ht=l(ht);!Lt.done;gt++,Lt=L.next())Lt=j(ht,O,gt,Lt.value,F),Lt!==null&&(t&&Lt.alternate!==null&&ht.delete(Lt.key===null?gt:Lt.key),I=f(Lt,I,gt),Ct===null?ot=Lt:Ct.sibling=Lt,Ct=Lt);return t&&ht.forEach(function(LE){return n(O,LE)}),Pt&&sr(O,gt),ot}function Yt(O,I,L,F){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:t:{for(var ot=L.key;I!==null;){if(I.key===ot){if(ot=L.type,ot===tt){if(I.tag===7){a(O,I.sibling),F=c(I,L.props.children),F.return=O,O=F;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&cg(ot)===I.type){a(O,I.sibling),F=c(I,L.props),pl(F,L),F.return=O,O=F;break t}a(O,I);break}else n(O,I);I=I.sibling}L.type===tt?(F=ar(L.props.children,O.mode,F,L.key),F.return=O,O=F):(F=Oo(L.type,L.key,L.props,null,O.mode,F),pl(F,L),F.return=O,O=F)}return p(O);case H:t:{for(ot=L.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(O,I.sibling),F=c(I,L.children||[]),F.return=O,O=F;break t}else{a(O,I);break}else n(O,I);I=I.sibling}F=jc(L,O.mode,F),F.return=O,O=F}return p(O);case b:return ot=L._init,L=ot(L._payload),Yt(O,I,L,F)}if(Kt(L))return vt(O,I,L,F);if(U(L)){if(ot=U(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),mt(O,I,L,F)}if(typeof L.then=="function")return Yt(O,I,$o(L),F);if(L.$$typeof===pt)return Yt(O,I,Po(O,L),F);Jo(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(O,I.sibling),F=c(I,L),F.return=O,O=F):(a(O,I),F=kc(L,O.mode,F),F.return=O,O=F),p(O)):a(O,I)}return function(O,I,L,F){try{gl=0;var ot=Yt(O,I,L,F);return Jr=null,ot}catch(ht){if(ht===sl||ht===ko)throw ht;var Ct=hn(29,ht,null,O.mode);return Ct.lanes=F,Ct.return=O,Ct}finally{}}}var Wr=hg(!0),fg=hg(!1),Cn=Z(null),Jn=null;function ia(t){var n=t.alternate;z(Se,Se.current&1),z(Cn,t),Jn===null&&(n===null||Xr.current!==null||n.memoizedState!==null)&&(Jn=t)}function dg(t){if(t.tag===22){if(z(Se,Se.current),z(Cn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else aa()}function aa(){z(Se,Se.current),z(Cn,Cn.current)}function Si(t){rt(Cn),Jn===t&&(Jn=null),rt(Se)}var Se=Z(0);function Wo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Th={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=gn(),c=ta(l);c.payload=n,a!=null&&(c.callback=a),n=ea(t,c,l),n!==null&&(pn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=gn(),c=ta(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ea(t,c,l),n!==null&&(pn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=gn(),l=ta(a);l.tag=2,n!=null&&(l.callback=n),n=ea(t,l,a),n!==null&&(pn(n,t,a),ol(n,t,a))}};function mg(t,n,a,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function gg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function dr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pg(t){tu(t)}function yg(t){console.error(t)}function _g(t){tu(t)}function eu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,a){return a=ta(a),a.tag=3,a.payload={element:null},a.callback=function(){eu(t,n)},a}function Eg(t){return t=ta(t),t.tag=3,t}function Tg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){vg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){vg(n,a,l),typeof c!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function L0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return Jn===null?Fh():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return a.flags|=65536,l===$c?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Xh(t,l,c)),!1}throw Error(r(435,a.tag))}return Xh(t,l,c),Fh(),!1}if(Pt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Gc&&(t=Error(r(422),{cause:l}),nl(bn(t,a)))):(l!==Gc&&(n=Error(r(423),{cause:l}),nl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Ah(t.stateNode,l,c),th(t,c),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=bn(f,a),bl===null?bl=[f]:bl.push(f),oe!==4&&(oe=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ah(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ca===null||!ca.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Eg(c),Tg(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var Ag=Error(r(461)),Ne=!1;function Ue(t,n,a,l){n.child=t===null?fg(n,null,a,l):Wr(n,t.child,a,l)}function bg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return cr(n),l=rh(t,n,a,p,f,c),E=sh(),t!==null&&!Ne?(lh(t,n,c),Ri(t,n,c)):(Pt&&E&&qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Sg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Bc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Rg(t,n,f,l,c)):(t=Oo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nh(t,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(p,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Nh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return bh(t,n,a,l,c)}function wg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Cg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bo(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):nh(),dg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Bo(n,f.cachePool),Rm(n,f),aa(),n.memoizedState=null):(t!==null&&Bo(n,null),nh(),aa());return Ue(t,n,c,a),n.child}function Cg(t,n,a,l){var c=Zc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Bo(n,null),nh(),dg(n),t!==null&&il(t,n,l,!0),null}function nu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function bh(t,n,a,l,c){return cr(n),a=rh(t,n,a,l,void 0,c),l=sh(),t!==null&&!Ne?(lh(t,n,c),Ri(t,n,c)):(Pt&&l&&qc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Dg(t,n,a,l,c,f){return cr(n),n.updateQueue=null,a=Cm(n,l,a,c),wm(t),l=sh(),t!==null&&!Ne?(lh(t,n,f),Ri(t,n,f)):(Pt&&l&&qc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function Vg(t,n,a,l,c){if(cr(n),n.stateNode===null){var f=Hr,p=a.contextType;typeof p=="object"&&p!==null&&(f=Ge(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jc(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Ge(p):Hr,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Eh(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Th.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=dr(a,E);f.props=S;var B=f.context,Q=a.contextType;p=Hr,typeof Q=="object"&&Q!==null&&(p=Ge(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==p)&&gg(n,f,l,p),Wi=!1;var k=n.memoizedState;f.state=k,cl(n,l,f,c),ul(),B=n.memoizedState,E||k!==B||Wi?(typeof X=="function"&&(Eh(n,a,X,l),B=n.memoizedState),(S=Wi||mg(n,a,S,l,k,B,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=p,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),p=n.memoizedProps,Q=dr(a,p),f.props=Q,X=n.pendingProps,k=f.context,B=a.contextType,S=Hr,typeof B=="object"&&B!==null&&(S=Ge(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||k!==S)&&gg(n,f,l,S),Wi=!1,k=n.memoizedState,f.state=k,cl(n,l,f,c),ul();var j=n.memoizedState;p!==X||k!==j||Wi||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof E=="function"&&(Eh(n,a,E,l),j=n.memoizedState),(Q=Wi||mg(n,a,Q,l,k,j,S)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=S,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,c),n.child=Wr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function Ng(t,n,a,l){return el(),n.flags|=256,Ue(t,n,a,l),n.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:ym()}}function wh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Ig(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?ia(n):aa(),Pt){var E=le,S;if(S=E){t:{for(S=E,E=$n;S.nodeType!==8;){if(!E){E=null;break t}if(S=kn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:rr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},S=hn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,We=n,le=null,S=!0):S=!1}S||or(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(aa(),c=n.mode,E=iu({mode:"hidden",children:E},c),l=ar(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Rh(a),c.childLanes=wh(t,p,a),n.memoizedState=Sh,l):(ia(n),Ch(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(ia(n),n.flags&=-257,n=Dh(t,n,a)):n.memoizedState!==null?(aa(),n.child=t.child,n.flags|=128,n=null):(aa(),c=l.fallback,E=n.mode,l=iu({mode:"visible",children:l.children},E),c=ar(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wr(n,t.child,null,a),l=n.child,l.memoizedState=Rh(a),l.childLanes=wh(t,p,a),n.memoizedState=Sh,n=c);else if(ia(n),cf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,l=Error(r(419)),l.stack="",l.digest=p,nl({value:l,source:null,stack:null}),n=Dh(t,n,a)}else if(Ne||il(t,n,a,!1),p=(a&t.childLanes)!==0,Ne||p){if(p=$t,p!==null&&(l=a&-a,l=(l&42)!==0?1:Us(l),l=(l&(p.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,qr(t,l),pn(p,t,l),Ag;E.data==="$?"||Fh(),n=Dh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,le=kn(E.nextSibling),We=n,Pt=!0,lr=null,$n=!1,t!==null&&(Rn[wn++]=vi,Rn[wn++]=Ei,Rn[wn++]=rr,vi=t.id,Ei=t.overflow,rr=n),n=Ch(n,l.children),n.flags|=4096);return n}return c?(aa(),c=l.fallback,E=n.mode,S=t.child,B=S.sibling,l=_i(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,B!==null?c=_i(B,c):(c=ar(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Rh(a):(S=E.cachePool,S!==null?(B=be._currentValue,S=S.parent!==B?{parent:B,pool:B}:S):S=ym(),E={baseLanes:E.baseLanes|a,cachePool:S}),c.memoizedState=E,c.childLanes=wh(t,p,a),n.memoizedState=Sh,l):(ia(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Ch(t,n){return n=iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function iu(t,n){return t=hn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dh(t,n,a){return Wr(n,t.child,null,a),t=Ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,a)}function Vh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Mg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,a,n);else if(t.tag===19)xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(z(Se,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Wo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Vh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Vh(n,!0,a,null,f);break;case"together":Vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ua|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Nh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function P0(t,n,a){switch(n.tag){case 3:Bt(n,n.stateNode.containerInfo),Ji(n,be,t.memoizedState.cache),el();break;case 27:case 5:Sr(n);break;case 4:Bt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ig(t,n,a):(ia(n),t=Ri(t,n,a),t!==null?t.sibling:null);ia(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Mg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),z(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,wg(t,n,a);case 24:Ji(n,be,t.memoizedState.cache)}return Ri(t,n,a)}function Og(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Nh(t,a)&&(n.flags&128)===0)return Ne=!1,P0(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&cm(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Bc(l)?(t=dr(l,t),n.tag=1,n=Vg(null,n,l,t,a)):(n.tag=0,n=bh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Mt){n.tag=11,n=bg(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=Sg(null,n,l,t,a);break t}}throw n=ee(l)||l,Error(r(306,n,""))}}return n;case 0:return bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=dr(l,n.pendingProps),Vg(t,n,l,c,a);case 3:t:{if(Bt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),cl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Ji(n,be,l),l!==f.cache&&Yc(n,[be],a,!0),ul(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ng(t,n,l,a);break t}else if(l!==c){c=bn(Error(r(424)),n),nl(c),n=Ng(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=kn(t.firstChild),We=n,Pt=!0,lr=null,$n=!0,a=fg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=Ri(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return nu(t,n),t===null?(a=Pp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=yu(st.current).createElement(a),l[ce]=n,l[Oe]=t,Le(l,a,t),he(l),n.stateNode=l):n.memoizedState=Pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Sr(n),t===null&&Pt&&(l=n.stateNode=Up(n.type,n.pendingProps,st.current),We=n,$n=!0,c=le,da(n.type)?(hf=c,le=kn(l.firstChild)):le=c),Ue(t,n,n.pendingProps.children,a),nu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=le)&&(l=fE(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,We=n,le=kn(l.firstChild),$n=!1,c=!0):c=!1),c||or(n)),Sr(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:p!==null&&lf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,N0,null,null,a),xl._currentValue=c),nu(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=le)&&(a=dE(a,n.pendingProps,$n),a!==null?(n.stateNode=a,We=n,le=null,t=!0):t=!1),t||or(n)),null;case 13:return Ig(t,n,a);case 4:return Bt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return bg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ji(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,cr(n),c=Ge(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return Sg(t,n,n.type,n.pendingProps,a);case 15:return Rg(t,n,n.type,n.pendingProps,a);case 19:return Mg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_i(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return wg(t,n,a);case 24:return cr(n),l=Ge(be),t===null?(c=Zc(),c===null&&(c=$t,f=Xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Jc(n),Ji(n,be,c)):((t.lanes&a)!==0&&(Wc(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ji(n,be,l)):(l=f.cache,Ji(n,be,l),l!==c.cache&&Yc(n,[be],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function wi(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hp(n)){if(n=Cn.current,n!==null&&((Ot&4194048)===Ot?Jn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Jn))throw ll=$c,_m;t.flags|=8192}}function au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,is|=n)}function yl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function B0(t,n,a){var l=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(be),en(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dm())),re(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(re(n),Ug(n,a)):(re(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),re(n),Ug(n,a)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),re(n),n.flags&=-16777217),null;case 27:Ui(n),a=st.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}t=Y.current,tl(n)?hm(n):(t=Up(c,l,a),n.stateNode=t,wi(n))}return re(n),null;case 5:if(Ui(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(t=Y.current,tl(n))hm(n);else{switch(c=yu(st.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ce]=n,t[Oe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=st.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dp(t.nodeValue,a)),t||or(n)}else t=yu(t).createTextNode(l),t[ce]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ce]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),au(n,n.updateQueue),re(n),null;case 4:return en(),t===null&&ef(n.stateNode.containerInfo),re(n),null;case 10:return Ai(n.type),re(n),null;case 19:if(rt(Se),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wo(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,au(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)um(a,t),a=a.sibling;return z(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&nn()>lu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Wo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,au(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return re(n),null}else 2*nn()-c.renderingStartTime>lu&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=nn(),n.sibling=null,t=Se.current,z(Se,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Si(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&au(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&rt(hr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(be),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function k0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(be),en(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ui(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(Se),null;case 4:return en(),null;case 10:return Ai(n.type),null;case 22:case 23:return Si(n),ih(),t!==null&&rt(hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(be),null;case 25:return null;default:return null}}function zg(t,n){switch(Hc(n),n.tag){case 3:Ai(be),en();break;case 26:case 27:case 5:Ui(n);break;case 4:en();break;case 13:Si(n);break;case 19:rt(Se);break;case 10:Ai(n.type);break;case 22:case 23:Si(n),ih(),t!==null&&rt(hr);break;case 24:Ai(be)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function ra(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var S=a,B=E;try{B()}catch(Q){Xt(c,S,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Lg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sm(n,a)}catch(l){Xt(t,t.return,l)}}}function Pg(t,n,a){a.props=dr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Wn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Bg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Ih(t,n,a){try{var l=t.stateNode;lE(l,t.type,a,n),l[Oe]=n}catch(c){Xt(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pu));else if(l!==4&&(l===27&&da(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,a),t=t.sibling;t!==null;)Mh(t,n,a),t=t.sibling}function ru(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&da(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ru(t,n,a),t=t.sibling;t!==null;)ru(t,n,a),t=t.sibling}function jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[ce]=t,n[Oe]=a}catch(f){Xt(t,t.return,f)}}var Ci=!1,me=!1,Oh=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function j0(t,n){if(t=t.containerInfo,rf=bu,t=Wd(t),xc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,S=-1,B=0,Q=0,X=t,k=null;e:for(;;){for(var j;X!==a||c!==0&&X.nodeType!==3||(E=p+c),X!==f||l!==0&&X.nodeType!==3||(S=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(j=X.firstChild)!==null;)k=X,X=j;for(;;){if(X===t)break e;if(k===a&&++B===c&&(E=p),k===f&&++Q===l&&(S=p),(j=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=j}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(sf={focusedElem:t,selectionRange:a},bu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var vt=dr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Xt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)uf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Hg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sa(t,a),l&4&&_l(5,a);break;case 1:if(sa(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Xt(a,a.return,p)}else{var c=dr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(a,a.return,p)}}l&64&&Lg(a),l&512&&vl(a,a.return);break;case 3:if(sa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sm(t,n)}catch(p){Xt(a,a.return,p)}}break;case 27:n===null&&l&4&&jg(a);case 26:case 5:sa(t,a),n===null&&l&4&&Bg(a),l&512&&vl(a,a.return);break;case 12:sa(t,a);break;case 13:sa(t,a),l&4&&Fg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Z0.bind(null,a),mE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||me,c=Ci;var f=me;Ci=l,(me=n)&&!f?la(t,a,(a.subtreeFlags&8772)!==0):sa(t,a),Ci=c,me=f}break;case 30:break;default:sa(t,a)}}function Gg(t){var n=t.alternate;n!==null&&(t.alternate=null,Gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,rn=!1;function Di(t,n,a){for(a=a.child;a!==null;)Qg(t,n,a),a=a.sibling}function Qg(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(zi,a)}catch{}switch(a.tag){case 26:me||Wn(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||Wn(a,n);var l=ne,c=rn;da(a.type)&&(ne=a.stateNode,rn=!1),Di(t,n,a),Dl(a.stateNode),ne=l,rn=c;break;case 5:me||Wn(a,n);case 6:if(l=ne,c=rn,ne=null,Di(t,n,a),ne=l,rn=c,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:ne!==null&&(rn?(t=ne,Mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):Mp(ne,a.stateNode));break;case 4:l=ne,c=rn,ne=a.stateNode.containerInfo,rn=!0,Di(t,n,a),ne=l,rn=c;break;case 0:case 11:case 14:case 15:me||ra(2,a,n),me||ra(4,a,n),Di(t,n,a);break;case 1:me||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:me=(l=me)||a.memoizedState!==null,Di(t,n,a),me=l;break;default:Di(t,n,a)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){Xt(n,n.return,a)}}function q0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qg),n;default:throw Error(r(435,t.tag))}}function Uh(t,n){var a=q0(t);n.forEach(function(l){var c=$0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function fn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(da(E.type)){ne=E.stateNode,rn=!1;break t}break;case 5:ne=E.stateNode,rn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ne===null)throw Error(r(160));Qg(f,p,c),ne=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var Bn=null;function Yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),l&4&&(ra(3,t,t.return),_l(3,t),ra(5,t,t.return));break;case 1:fn(n,t),dn(t),l&512&&(me||a===null||Wn(a,a.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Bn;if(fn(n,t),dn(t),l&512&&(me||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[ce]=t,he(f),l=f;break t;case"link":var p=jp("link","href",c).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(p=jp("meta","content",c).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else qp(c,t.type,t.stateNode);else t.stateNode=kp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?qp(c,t.type,t.stateNode):kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ih(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),l&512&&(me||a===null||Wn(a,a.return)),a!==null&&l&4&&Ih(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),l&512&&(me||a===null||Wn(a,a.return)),t.flags&32){c=t.stateNode;try{Tn(c,"")}catch(j){Xt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ih(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(fn(n,t),dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){Xt(t,t.return,j)}}break;case 3:if(Eu=null,c=Bn,Bn=_u(n.containerInfo),fn(n,t),Bn=c,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(j){Xt(t,t.return,j)}Oh&&(Oh=!1,Xg(t));break;case 4:l=Bn,Bn=_u(t.stateNode.containerInfo),fn(n,t),dn(t),Bn=l;break;case 12:fn(n,t),dn(t);break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jh=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,B=Ci,Q=me;if(Ci=B||c,me=Q||S,fn(n,t),me=Q,Ci=B,dn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||S||Ci||me||mr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(f=S.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=S.stateNode;var X=S.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Xt(S,S.return,j)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(j){Xt(S,S.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uh(t,a))));break;case 19:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(kg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=xh(t);ru(t,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(Tn(p,""),a.flags&=-33);var E=xh(t);ru(t,E,p);break;case 3:case 4:var S=a.stateNode.containerInfo,B=xh(t);Mh(t,B,S);break;default:throw Error(r(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),mr(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),mr(n);break;case 27:Dl(n.stateNode);case 26:case 5:Wn(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function la(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:la(c,f,a),_l(4,f);break;case 1:if(la(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)bm(S[c],E)}catch(B){Xt(l,l.return,B)}}a&&p&64&&Lg(f),vl(f,f.return);break;case 27:jg(f);case 26:case 5:la(c,f,a),a&&l===null&&p&4&&Bg(f),vl(f,f.return);break;case 12:la(c,f,a);break;case 13:la(c,f,a),a&&p&4&&Fg(c,f);break;case 22:f.memoizedState===null&&la(c,f,a),vl(f,f.return);break;case 30:break;default:la(c,f,a)}n=n.sibling}}function zh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Lh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kg(t,n,a,l),n=n.sibling}function Kg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,a,l),c&2048&&_l(9,n);break;case 1:ti(t,n,a,l);break;case 3:ti(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){ti(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Xt(n,n.return,S)}}else ti(t,n,a,l);break;case 13:ti(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,a,l):El(t,n):f._visibility&2?ti(t,n,a,l):(f._visibility|=2,ts(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&zh(p,n);break;case 24:ti(t,n,a,l),c&2048&&Lh(n.alternate,n);break;default:ti(t,n,a,l)}}function ts(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=a,S=l,B=p.flags;switch(p.tag){case 0:case 11:case 15:ts(f,p,E,S,c),_l(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?ts(f,p,E,S,c):El(f,p):(Q._visibility|=2,ts(f,p,E,S,c)),c&&B&2048&&zh(p.alternate,p);break;case 24:ts(f,p,E,S,c),c&&B&2048&&Lh(p.alternate,p);break;default:ts(f,p,E,S,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&zh(l.alternate,l);break;case 24:El(a,l),c&2048&&Lh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function es(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:es(t),t.flags&Tl&&t.memoizedState!==null&&CE(Bn,t.memoizedState,t.memoizedProps);break;case 5:es(t);break;case 3:case 4:var n=Bn;Bn=_u(t.stateNode.containerInfo),es(t),Bn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,es(t),Tl=n):es(t));break;default:es(t)}}function $g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Wg(l,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,su(t)):Al(t);break;default:Al(t)}}function su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Wg(l,t)}$g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),su(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,su(n));break;default:su(n)}t=t.sibling}}function Wg(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Gg(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var H0={getCacheForType:function(t){var n=Ge(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},G0=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Dt=null,Ot=0,Ht=0,mn=null,oa=!1,ns=!1,Ph=!1,Vi=0,oe=0,ua=0,gr=0,Bh=0,Dn=0,is=0,bl=null,sn=null,kh=!1,jh=0,lu=1/0,ou=null,ca=null,ze=0,ha=null,as=null,rs=0,qh=0,Hh=null,tp=null,Sl=0,Gh=null;function gn(){if((qt&2)!==0&&Ot!==0)return Ot&-Ot;if(G.T!==null){var t=Fr;return t!==0?t:$h()}return hi()}function ep(){Dn===0&&(Dn=(Ot&536870912)===0||Pt?Os():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Dn}function pn(t,n,a){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(ss(t,0),fa(t,Ot,Dn,!1)),ue(t,a),((qt&2)===0||t!==$t)&&(t===$t&&((qt&2)===0&&(gr|=a),oe===4&&fa(t,Ot,Dn,!1)),ei(t))}function np(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Pi(t,n),c=l?Y0(t,n):Yh(t,n,!0),f=l;do{if(c===0){ns&&!l&&fa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Q0(a)){c=Yh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=bl;var S=E.current.memoizedState.isDehydrated;if(S&&(ss(E,p).flags|=256),p=Yh(E,p,!1),p!==2){if(Ph&&!S){E.errorRecoveryDisabledLanes|=f,gr|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){ss(t,0),fa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:fa(l,n,Dn,!oa);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=jh+300-nn(),10<c)){if(fa(l,n,Dn,!oa),vn(l,0,!0)!==0)break t;l.timeoutHandle=Ip(ip.bind(null,l,a,sn,ou,kh,n,Dn,gr,is,oa,f,2,-0,0),c);break t}ip(l,a,sn,ou,kh,n,Dn,gr,is,oa,f,0,-0,0)}}break}while(!0);ei(t)}function ip(t,n,a,l,c,f,p,E,S,B,Q,X,k,j){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:wE},Zg(n),X=DE(),X!==null)){t.cancelPendingCommit=X(cp.bind(null,t,n,f,a,l,c,p,E,S,Q,1,k,j)),fa(t,f,p,!B);return}cp(t,n,f,a,l,c,p,E,S)}function Q0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fa(t,n,a,l){n&=~Bh,n&=~gr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&ki(t,a,n)}function uu(){return(qt&6)===0?(Rl(0),!1):!0}function Qh(){if(Dt!==null){if(Ht===0)var t=Dt.return;else t=Dt,Ti=ur=null,oh(t),Jr=null,gl=0,t=Dt;for(;t!==null;)zg(t.alternate,t),t=t.return;Dt=null}}function ss(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qh(),$t=t,Dt=a=_i(t.current,null),Ot=n,Ht=0,mn=null,oa=!1,ns=Pi(t,n),Ph=!1,is=Dn=Bh=gr=ua=oe=0,sn=bl=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Io(),a}function ap(t,n){wt=null,G.H=Zo,n===sl||n===ko?(n=Tm(),Ht=3):n===_m?(n=Tm(),Ht=4):Ht=n===Ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Dt===null&&(oe=1,eu(t,bn(n,t.current)))}function rp(){var t=G.H;return G.H=Zo,t===null?Zo:t}function sp(){var t=G.A;return G.A=H0,t}function Fh(){oe=4,oa||(Ot&4194048)!==Ot&&Cn.current!==null||(ns=!0),(ua&134217727)===0&&(gr&134217727)===0||$t===null||fa($t,Ot,Dn,!1)}function Yh(t,n,a){var l=qt;qt|=2;var c=rp(),f=sp();($t!==t||Ot!==n)&&(ou=null,ss(t,n)),n=!1;var p=oe;t:do try{if(Ht!==0&&Dt!==null){var E=Dt,S=mn;switch(Ht){case 8:Qh(),p=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var B=Ht;if(Ht=0,mn=null,ls(t,E,S,B),a&&ns){p=0;break t}break;default:B=Ht,Ht=0,mn=null,ls(t,E,S,B)}}F0(),p=oe;break}catch(Q){ap(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ti=ur=null,qt=l,G.H=c,G.A=f,Dt===null&&($t=null,Ot=0,Io()),p}function F0(){for(;Dt!==null;)lp(Dt)}function Y0(t,n){var a=qt;qt|=2;var l=rp(),c=sp();$t!==t||Ot!==n?(ou=null,lu=nn()+500,ss(t,n)):ns=Pi(t,n);t:do try{if(Ht!==0&&Dt!==null){n=Dt;var f=mn;e:switch(Ht){case 1:Ht=0,mn=null,ls(t,n,f,1);break;case 2:case 9:if(vm(f)){Ht=0,mn=null,op(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),ei(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:vm(f)?(Ht=0,mn=null,op(n)):(Ht=0,mn=null,ls(t,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(!p||Hp(p)){Ht=0,mn=null;var S=E.sibling;if(S!==null)Dt=S;else{var B=E.return;B!==null?(Dt=B,cu(B)):Dt=null}break e}}Ht=0,mn=null,ls(t,n,f,5);break;case 6:Ht=0,mn=null,ls(t,n,f,6);break;case 8:Qh(),oe=6;break t;default:throw Error(r(462))}}X0();break}catch(Q){ap(t,Q)}while(!0);return Ti=ur=null,G.H=l,G.A=c,qt=a,Dt!==null?0:($t=null,Ot=0,Io(),oe)}function X0(){for(;Dt!==null&&!Tc();)lp(Dt)}function lp(t){var n=Og(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?cu(t):Dt=n}function op(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Dg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Dg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:oh(n);default:zg(a,n),n=Dt=um(n,Vi),n=Og(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?cu(t):Dt=n}function ls(t,n,a,l){Ti=ur=null,oh(n),Jr=null,gl=0;var c=n.return;try{if(L0(t,c,n,a,Ot)){oe=1,eu(t,bn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,eu(t,bn(a,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:ns||(Ot&536870912)!==0?t=!1:(oa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),up(n,t)):cu(n)}function cu(t){var n=t;do{if((n.flags&32768)!==0){up(n,oa);return}t=n.return;var a=B0(n.alternate,n,Vi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function up(t,n){do{var a=k0(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);oe=6,Dt=null}function cp(t,n,a,l,c,f,p,E,S){t.cancelPendingCommit=null;do hu();while(ze!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Lc,mo(t,a,f,p,E,S),t===$t&&(Dt=$t=null,Ot=0),as=n,ha=t,rs=a,qh=f,Hh=c,tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J0(ci,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,p=qt,qt|=4;try{j0(t,n,a)}finally{qt=p,it.p=c,G.T=l}}ze=1,hp(),fp(),dp()}}function hp(){if(ze===1){ze=0;var t=ha,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=qt;qt|=4;try{Yg(n,t);var f=sf,p=Wd(t.containerInfo),E=f.focusedElem,S=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Jd(E.ownerDocument.documentElement,E)){if(S!==null&&xc(E)){var B=S.start,Q=S.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var j=k.getSelection(),vt=E.textContent.length,mt=Math.min(S.start,vt),Yt=S.end===void 0?mt:Math.min(S.end,vt);!j.extend&&mt>Yt&&(p=Yt,Yt=mt,mt=p);var O=$d(E,mt),I=$d(E,Yt);if(O&&I&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var L=X.createRange();L.setStart(O.node,O.offset),j.removeAllRanges(),mt>Yt?(j.addRange(L),j.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),j.addRange(L))}}}}for(X=[],j=E;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}bu=!!rf,sf=rf=null}finally{qt=c,it.p=l,G.T=a}}t.current=n,ze=2}}function fp(){if(ze===2){ze=0;var t=ha,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=qt;qt|=4;try{Hg(t,n.alternate,n)}finally{qt=c,it.p=l,G.T=a}}ze=3}}function dp(){if(ze===4||ze===3){ze=0,xs();var t=ha,n=as,a=rs,l=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,as=ha=null,mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ca=null),zs(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(zi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(rs&3)!==0&&hu(),ei(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Gh?Sl++:(Sl=0,Gh=t):Sl=0,Rl(0)}}function mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function hu(t){return hp(),fp(),dp(),gp()}function gp(){if(ze!==5)return!1;var t=ha,n=qh;qh=0;var a=zs(rs),l=G.T,c=it.p;try{it.p=32>a?32:a,G.T=null,a=Hh,Hh=null;var f=ha,p=rs;if(ze=0,as=ha=null,rs=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,Jg(f.current),Kg(f,f.current,p,a),qt=E,Rl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(zi,f)}catch{}return!0}finally{it.p=c,G.T=l,mp(t,n)}}function pp(t,n,a){n=bn(a,n),n=Ah(t.stateNode,n,2),t=ea(t,n,2),t!==null&&(ue(t,2),ei(t))}function Xt(t,n,a){if(t.tag===3)pp(t,t,a);else for(;n!==null;){if(n.tag===3){pp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=bn(a,t),a=Eg(2),l=ea(n,a,2),l!==null&&(Tg(a,l,n,t),ue(l,2),ei(l));break}}n=n.return}}function Xh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new G0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ph=!0,c.add(a),t=K0.bind(null,t,n,a),n.then(t,t))}function K0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ot&a)===a&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>nn()-jh?(qt&2)===0&&ss(t,0):Bh|=a,is===Ot&&(is=0)),ei(t)}function yp(t,n){n===0&&(n=Bi()),t=qr(t,n),t!==null&&(ue(t,n),ei(t))}function Z0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),yp(t,a)}function $0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),yp(t,a)}function J0(t,n){return pe(t,n)}var fu=null,os=null,Kh=!1,du=!1,Zh=!1,pr=0;function ei(t){t!==os&&t.next===null&&(os===null?fu=os=t:os=os.next=t),du=!0,Kh||(Kh=!0,tE())}function Rl(t,n){if(!Zh&&du){Zh=!0;do for(var a=!1,l=fu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Tp(l,f))}else f=Ot,f=vn(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pi(l,f)||(a=!0,Tp(l,f));l=l.next}while(a);Zh=!1}}function W0(){_p()}function _p(){du=Kh=!1;var t=0;pr!==0&&(oE()&&(t=pr),pr=0);for(var n=nn(),a=null,l=fu;l!==null;){var c=l.next,f=vp(l,n);f===0?(l.next=null,a===null?fu=c:a.next=c,c===null&&(os=a)):(a=l,(t!==0||(f&3)!==0)&&(du=!0)),l=c}Rl(t)}function vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ke(f),E=1<<p,S=c[p];S===-1?((E&a)===0||(E&l)!==0)&&(c[p]=Rr(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Ot,a=vn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&je(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&je(l),zs(a)){case 2:case 8:a=De;break;case 32:a=ci;break;case 268435456:a=Ms;break;default:a=ci}return l=Ep.bind(null,t),a=pe(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&je(l),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hu()&&t.callbackNode!==a)return null;var l=Ot;return l=vn(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(np(t,l,n),vp(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Ep.bind(null,t):null)}function Tp(t,n){if(hu())return null;np(t,n,!0)}function tE(){cE(function(){(qt&6)!==0?pe(Te,W0):_p()})}function $h(){return pr===0&&(pr=Os()),pr}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:On(""+t)}function bp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function eE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Ap((c[Oe]||null).action),p=l.submitter;p&&(n=(n=p[Oe]||null)?Ap(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ka("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pr!==0){var S=p?bp(c,p):new FormData(c);yh(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=p?bp(c,p):new FormData(c),yh(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Jh=0;Jh<zc.length;Jh++){var Wh=zc[Jh],nE=Wh.toLowerCase(),iE=Wh[0].toUpperCase()+Wh.slice(1);Pn(nE,"on"+iE)}Pn(nm,"onAnimationEnd"),Pn(im,"onAnimationIteration"),Pn(am,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(E0,"onTransitionRun"),Pn(T0,"onTransitionStart"),Pn(A0,"onTransitionCancel"),Pn(rm,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Sp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],S=E.instance,B=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){tu(Q)}c.currentTarget=null,f=S}else for(p=0;p<l.length;p++){if(E=l[p],S=E.instance,B=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){tu(Q)}c.currentTarget=null,f=S}}}}function Vt(t,n){var a=n[za];a===void 0&&(a=n[za]=new Set);var l=t+"__bubble";a.has(l)||(Rp(n,t,2,!1),a.add(l))}function tf(t,n,a){var l=0;n&&(l|=4),Rp(a,t,l,n)}var mu="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[mu]){t[mu]=!0,go.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||tf(a,!1,t),tf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mu]||(n[mu]=!0,tf("selectionchange",!1,n))}}function Rp(t,n,a,l){switch(Kp(n)){case 2:var c=IE;break;case 8:c=xE;break;default:c=pf}a=c.bind(null,n,a,t),c=void 0,!pi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function nf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=Gn(E),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Fa(function(){var B=f,Q=Hs(a),X=[];t:{var k=sm.get(t);if(k!==void 0){var j=Ka,vt=t;switch(t){case"keypress":if(Ya(a)===0)break t;case"keydown":case"keyup":j=Pr;break;case"focusin":vt="focus",j=Ur;break;case"focusout":vt="blur",j=Ur;break;case"beforeblur":case"afterblur":j=Ur;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=$i;break;case nm:case im:case am:j=Qs;break;case rm:j=m;break;case"scroll":case"scrollend":j=$a;break;case"wheel":j=T;break;case"copy":case"cut":case"paste":j=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Xs;break;case"toggle":case"beforetoggle":j=q}var mt=(n&4)!==0,Yt=!mt&&(t==="scroll"||t==="scrollend"),O=mt?k!==null?k+"Capture":null:k;mt=[];for(var I=B,L;I!==null;){var F=I;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||O===null||(F=Ki(I,O),F!=null&&mt.push(Cl(I,F,L))),Yt)break;I=I.return}0<mt.length&&(k=new j(k,vt,null,a,Q),X.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",k&&a!==qs&&(vt=a.relatedTarget||a.fromElement)&&(Gn(vt)||vt[fi]))break t;if((j||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,j?(vt=a.relatedTarget||a.toElement,j=B,vt=vt?Gn(vt):null,vt!==null&&(Yt=h(vt),mt=vt.tag,vt!==Yt||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(j=null,vt=B),j!==vt)){if(mt=tr,F="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Xs,F="onPointerLeave",O="onPointerEnter",I="pointer"),Yt=j==null?k:Hi(j),L=vt==null?k:Hi(vt),k=new mt(F,I+"leave",j,a,Q),k.target=Yt,k.relatedTarget=L,F=null,Gn(Q)===B&&(mt=new mt(O,I+"enter",vt,a,Q),mt.target=L,mt.relatedTarget=Yt,F=mt),Yt=F,j&&vt)e:{for(mt=j,O=vt,I=0,L=mt;L;L=us(L))I++;for(L=0,F=O;F;F=us(F))L++;for(;0<I-L;)mt=us(mt),I--;for(;0<L-I;)O=us(O),L--;for(;I--;){if(mt===O||O!==null&&mt===O.alternate)break e;mt=us(mt),O=us(O)}mt=null}else mt=null;j!==null&&wp(X,k,j,mt,!1),vt!==null&&Yt!==null&&wp(X,Yt,vt,mt,!0)}}t:{if(k=B?Hi(B):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var ot=Qd;else if(Hd(k))if(Fd)ot=y0;else{ot=g0;var Ct=m0}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&xr(B.elementType)&&(ot=Qd):ot=p0;if(ot&&(ot=ot(t,B))){Gd(X,ot,a,Q);break t}Ct&&Ct(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Bs(k,"number",k.value)}switch(Ct=B?Hi(B):window,t){case"focusin":(Hd(Ct)||Ct.contentEditable==="true")&&(Br=Ct,Mc=B,Ws=null);break;case"focusout":Ws=Mc=Br=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,tm(X,a,Q);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":tm(X,a,Q)}var ht;if(Tt)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ln?Un(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(fe&&a.locale!=="ko"&&(Ln||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ln&&(ht=To()):(An=Q,Zt="value"in An?An.value:An.textContent,Ln=!0)),Ct=gu(B,gt),0<Ct.length&&(gt=new Ys(gt,t,null,a,Q),X.push({event:gt,listeners:Ct}),ht?gt.data=ht:(ht=zn(a),ht!==null&&(gt.data=ht)))),(ht=jt?Ks(t,a):h0(t,a))&&(gt=gu(B,"onBeforeInput"),0<gt.length&&(Ct=new Ys("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ct,listeners:gt}),Ct.data=ht)),eE(X,t,B,a,Q)}Sp(X,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function gu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ki(t,a),c!=null&&l.unshift(Cl(t,c,f)),c=Ki(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wp(t,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,S=E.alternate,B=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||B===null||(S=B,c?(B=Ki(a,f),B!=null&&p.unshift(Cl(a,B,S))):c||(B=Ki(a,f),B!=null&&p.push(Cl(a,B,S)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var rE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(rE,`
`).replace(sE,"")}function Dp(t,n){return n=Cp(n),Cp(t)===n}function pu(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":ja(t,"class",l);break;case"tabIndex":ja(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ja(t,a,l);break;case"style":js(t,l,f);break;case"data":if(n!=="object"){ja(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=On(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=On(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=On(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),ka(t,"popover",l);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ka(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_o.get(a)||a,ka(t,a,l))}}function af(t,n,a,l,c,f){switch(a){case"style":js(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ka(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,f,p,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=p=c=null,S=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":p=Q;break;case"checked":S=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Ft(t,n,l,Q,a,null)}}Ps(t,f,E,S,B,p,c,!1),Fi(t);return;case"select":Vt("invalid",t),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ft(t,n,p,E,a,null)}yo(t,l,c,f),Fi(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,S,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Vt(wl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,B,l,a,null)}return;default:if(xr(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&af(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function lE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,S=null,B=null,Q=null;for(j in a){var X=a[j];if(a.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=X;default:l.hasOwnProperty(j)||Ft(t,n,j,null,l,X)}}for(var k in l){var j=l[k];if(X=a[k],l.hasOwnProperty(k)&&(j!=null||X!=null))switch(k){case"type":f=j;break;case"name":c=j;break;case"checked":B=j;break;case"defaultChecked":Q=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==X&&Ft(t,n,k,j,l,X)}}Ls(t,p,E,S,B,Q,f,c);return;case"select":j=p=E=k=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":j=S;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==S&&Ft(t,n,c,f,l,S)}n=E,a=p,l=j,k!=null?Yi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Yi(t,!!a,n,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":j=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":k=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Ft(t,n,p,c,l,f)}po(t,k,j);return;case"option":for(var vt in a)if(k=a[vt],a.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Ft(t,n,vt,null,l,k)}for(S in l)if(k=l[S],j=a[S],l.hasOwnProperty(S)&&k!==j&&(k!=null||j!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ft(t,n,S,k,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)k=a[mt],a.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Ft(t,n,mt,null,l,k);for(B in l)if(k=l[B],j=a[B],l.hasOwnProperty(B)&&k!==j&&(k!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Ft(t,n,B,k,l,j)}return;default:if(xr(n)){for(var Yt in a)k=a[Yt],a.hasOwnProperty(Yt)&&k!==void 0&&!l.hasOwnProperty(Yt)&&af(t,n,Yt,void 0,l,k);for(Q in l)k=l[Q],j=a[Q],!l.hasOwnProperty(Q)||k===j||k===void 0&&j===void 0||af(t,n,Q,k,l,j);return}}for(var O in a)k=a[O],a.hasOwnProperty(O)&&k!=null&&!l.hasOwnProperty(O)&&Ft(t,n,O,null,l,k);for(X in l)k=l[X],j=a[X],!l.hasOwnProperty(X)||k===j||k==null&&j==null||Ft(t,n,X,k,l,j)}var rf=null,sf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function Vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function oE(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(hE)}:Ip;function hE(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function Mp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var p=t.ownerDocument;if(a&1&&Dl(p.documentElement),a&2&&Dl(p.body),a&4)for(a=p.head,Dl(a),p=a.firstChild;p;){var E=p.nextSibling,S=p.nodeName;p[qi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);zl(n)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uf(a),Cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function dE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var hf=null;function Op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Up(t,n,a){switch(n=yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Cr(t)}var Vn=new Map,zp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=it.d;it.d={f:gE,r:pE,D:yE,C:_E,L:vE,m:EE,X:AE,S:TE,M:bE};function gE(){var t=Ni.f(),n=uu();return t||n}function pE(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?ng(n):Ni.r(t)}var cs=typeof document>"u"?null:document;function Lp(t,n,a){var l=cs;if(l&&typeof n=="string"&&n){var c=Ve(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),zp.has(c)||(zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),he(n),l.head.appendChild(n)))}}function yE(t){Ni.D(t),Lp("dns-prefetch",t,null)}function _E(t,n){Ni.C(t,n),Lp("preconnect",t,n)}function vE(t,n,a){Ni.L(t,n,a);var l=cs;if(l&&t&&n){var c='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ve(a.imageSizes)+'"]')):c+='[href="'+Ve(t)+'"]';var f=c;switch(n){case"style":f=hs(t);break;case"script":f=fs(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Le(n,"link",t),he(n),l.head.appendChild(n)))}}function EE(t,n){Ni.m(t,n);var a=cs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ve(l)+'"][href="'+Ve(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fs(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}l=a.createElement("link"),Le(l,"link",t),he(l),a.head.appendChild(l)}}}function TE(t,n,a){Ni.S(t,n,a);var l=cs;if(l&&t){var c=Gi(l).hoistableStyles,f=hs(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&ff(t,a);var S=p=l.createElement("link");he(S),Le(S,"link",t),S._p=new Promise(function(B,Q){S.onload=B,S.onerror=Q}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function AE(t,n){Ni.X(t,n);var a=cs;if(a&&t){var l=Gi(a).hoistableScripts,c=fs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=Vn.get(c))&&df(t,n),f=a.createElement("script"),he(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bE(t,n){Ni.M(t,n);var a=cs;if(a&&t){var l=Gi(a).hoistableScripts,c=fs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&df(t,n),f=a.createElement("script"),he(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Pp(t,n,a,l){var c=(c=st.current)?_u(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hs(a.href),a=Gi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hs(a.href);var f=Gi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Vl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||SE(c,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fs(a),a=Gi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function hs(t){return'href="'+Ve(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Bp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function SE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),he(n),t.head.appendChild(n))}function fs(t){return'[src="'+Ve(t)+'"]'}function Nl(t){return"script[async]"+t}function kp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ve(a.href)+'"]');if(l)return n.instance=l,he(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Le(l,"style",c),vu(l,a.precedence,t),n.instance=l;case"stylesheet":c=hs(a.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=Bp(a),(c=Vn.get(c))&&ff(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var p=f;return p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),Le(f,"link",l),n.state.loading|=4,vu(f,a.precedence,t),n.instance=f;case"script":return f=fs(a.src),(c=t.querySelector(Nl(f)))?(n.instance=c,he(c),c):(l=a,(c=Vn.get(f))&&(l=A({},a),df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vu(l,a.precedence,t));return n.instance}function vu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eu=null;function jp(t,n,a){if(Eu===null){var l=new Map,c=Eu=new Map;c.set(a,l)}else c=Eu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[qi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function qp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function RE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function wE(){}function CE(t,n,a){if(Il===null)throw Error(r(475));var l=Il;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hs(a.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,a=Bp(a),(c=Vn.get(c))&&ff(a,c),f=f.createElement("link"),he(f);var p=f;p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Tu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function DE(){if(Il===null)throw Error(r(475));var t=Il;return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(VE,t),Au=null,Tu.call(t))}function VE(t,n){if(!(n.state.loading&4)){var a=Au.get(t);if(a)var l=a.get(null);else{a=new Map,Au.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=Tu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function NE(t,n,a,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Gp(t,n,a,l,c,f,p,E,S,B,Q,X){return t=new NE(t,n,a,p,E,S,B,X),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Jc(f),t}function Qp(t){return t?(t=Hr,t):Hr}function Fp(t,n,a,l,c,f){c=Qp(c),l.context===null?l.context=c:l.pendingContext=c,l=ta(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ea(t,l,n),a!==null&&(pn(a,t,n),ol(a,t,n))}function Yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function gf(t,n){Yp(t,n),(t=t.alternate)&&Yp(t,n)}function Xp(t){if(t.tag===13){var n=qr(t,67108864);n!==null&&pn(n,t,67108864),gf(t,67108864)}}var bu=!0;function IE(t,n,a,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,pf(t,n,a,l)}finally{it.p=f,G.T=c}}function xE(t,n,a,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,pf(t,n,a,l)}finally{it.p=f,G.T=c}}function pf(t,n,a,l){if(bu){var c=yf(l);if(c===null)nf(t,n,l,Su,a),Zp(t,l);else if(OE(c,t,n,a,l))l.stopPropagation();else if(Zp(t,l),n&4&&-1<ME.indexOf(t)){for(;c!==null;){var f=Qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=In(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var S=1<<31-Ke(p);E.entanglements[1]|=S,p&=~S}ei(f),(qt&6)===0&&(lu=nn()+500,Rl(0))}}break;case 13:E=qr(f,2),E!==null&&pn(E,f,2),uu(),gf(f,2)}if(f=yf(l),f===null&&nf(t,n,l,Su,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,a)}}function yf(t){return t=Hs(t),_f(t)}var Su=null;function _f(t){if(Su=null,t=Gn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Su=t,null}function Kp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case Te:return 2;case De:return 8;case ci:case Ac:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var vf=!1,ma=null,ga=null,pa=null,Ml=new Map,Ol=new Map,ya=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,n){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Qn(n),n!==null&&Xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function OE(t,n,a,l,c){switch(n){case"focusin":return ma=Ul(ma,t,n,a,l,c),!0;case"dragenter":return ga=Ul(ga,t,n,a,l,c),!0;case"mouseover":return pa=Ul(pa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ul(Ol.get(f)||null,t,n,a,l,c)),!0}return!1}function $p(t){var n=Gn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Rc(t.priority,function(){if(a.tag===13){var l=gn();l=Us(l);var c=qr(a,l);c!==null&&pn(c,a,l),gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=yf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qs=l,a.target.dispatchEvent(l),qs=null}else return n=Qn(a),n!==null&&Xp(n),t.blockedOn=a,!1;n.shift()}return!0}function Jp(t,n,a){Ru(t)&&a.delete(n)}function UE(){vf=!1,ma!==null&&Ru(ma)&&(ma=null),ga!==null&&Ru(ga)&&(ga=null),pa!==null&&Ru(pa)&&(pa=null),Ml.forEach(Jp),Ol.forEach(Jp)}function wu(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,UE)))}var Cu=null;function Wp(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(_f(l||a)===null)continue;break}var f=Qn(a);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function zl(t){function n(S){return wu(S,t)}ma!==null&&wu(ma,t),ga!==null&&wu(ga,t),pa!==null&&wu(pa,t),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<ya.length;a++){var l=ya[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)$p(a),a.blockedOn===null&&ya.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[Oe]||null;if(typeof f=="function")p||Wp(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Oe]||null)E=p.formAction;else if(_f(c)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Wp(a)}}}function Ef(t){this._internalRoot=t}Du.prototype.render=Ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=gn();Fp(a,l,t,n,null,null)},Du.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fp(t.current,2,null,t,null,null),uu(),n[fi]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var n=hi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ya.length&&n!==0&&n<ya[a].priority;a++);ya.splice(a,0,t),a===0&&$p(t)}};var ty=e.version;if(ty!=="19.1.1")throw Error(r(527,ty,"19.1.1"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{zi=Vu.inject(zE),qe=Vu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=pg,f=yg,p=_g,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Gp(t,1,!1,null,null,a,l,c,f,p,E,null),t[fi]=n.current,ef(t),new Ef(n)},Pl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=pg,p=yg,E=_g,S=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Gp(t,1,!0,n,a??null,l,c,f,p,E,S,B),n.context=Qp(null),a=n.current,l=gn(),l=Us(l),c=ta(l),c.callback=null,ea(a,c,l),a=l,n.current.lanes=a,ue(n,a),ei(n),t[fi]=n.current,ef(t),new Du(n)},Pl.version="19.1.1",Pl}var cy;function YE(){if(cy)return bf.exports;cy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bf.exports=FE(),bf.exports}var XE=YE();const KE=E_(XE),Bl=["January","February","March","April","May","June","July","August","September","October","November","December"],ZE=Array.from({length:10},(s,e)=>new Date().getFullYear()-5+e);function Uu(s){return s===0?"-":s.toLocaleString("en-US")}function Cf(s,e){return e==="M"?(s/1e6).toFixed(2)+"M":e==="K"?(s/1e3).toFixed(1)+"K":Uu(s)}function Df(s){return s>=1e6?"M":s>=1e4?"K":""}const $E=s=>{const{brandName:e,primaryColor:i,secondaryColor:r,reportingPeriod:o,platforms:h,overallResults:d,channels:y,firstActiveMonthIndex:v}=s,_=Df(d.totalImpressions),A=Df(d.totalReach),C=Df(d.totalClicks),x=h.map(J=>`
        <tr>
            <td><strong>${J.name}</strong></td>
            <td>${Uu(J.impressions??0)}</td>
            <td>${Uu(J.reach??0)}</td>
            <td>${Uu(J.clicks??0)}</td>
            <td><span class="ctr-highlight">${(J.ctr??0).toFixed(2)}%</span></td>
        </tr>
    `).join(""),H=Bl.slice(v),tt=H.length,nt=y.map(J=>`
        <div class="timeline-row">
            <div class="channel-name">${J.name}</div>
            <div class="timeline-months">
                ${J.activeMonths.slice(v).map(St=>`
                    <div class="month-status ${St?"active":"inactive"}">${St?"✓":"-"}</div>
                `).join("")}
            </div>
        </div>
    `).join("");return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
    <title>${e} Digital Performance Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; padding: 20px; }
        .dashboard { max-width: 1400px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, ${i} 0%, ${r} 100%); color: white; padding: 30px 40px; text-align: center; }
        .header h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .header .subtitle { font-size: 1.2rem; opacity: 0.9; font-weight: 300; }
        .content { padding: 40px; }
        .section { margin-bottom: 50px; }
        .section-title { font-size: 1.8rem; color: #1e3c72; margin-bottom: 25px; font-weight: 600; border-left: 4px solid ${r}; padding-left: 20px; }
        .performance-table { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        table { width: 100%; border-collapse: collapse; }
        th { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 20px 15px; text-align: left; font-weight: 600; font-size: 1rem; }
        td { padding: 20px 15px; border-bottom: 1px solid #f0f0f0; font-size: 1rem; }
        tr:last-child td { border-bottom: none; }
        tr:hover { background-color: #f8f9ff; }
        .ctr-highlight { background: linear-gradient(135deg, ${i} 0%, ${r} 100%); color: white; padding: 5px 12px; border-radius: 20px; font-weight: 600; display: inline-block; min-width: 60px; text-align: center; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        .metric-card { background: linear-gradient(135deg, ${i} 0%, ${r} 100%); color: white; padding: 30px; border-radius: 15px; text-align: center; transform: translateY(0); transition: all 0.3s ease; }
        .metric-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4); }
        .metric-value { font-size: 2.2rem; font-weight: 700; margin-bottom: 10px; }
        .metric-label { font-size: 1rem; opacity: 0.9; }
        .timeline-container { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .timeline-header { display: grid; grid-template-columns: 150px 1fr; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #e8ecf4; padding-bottom: 15px; }
        .channel-label { font-weight: 600; color: #1e3c72; font-size: 1.1rem; align-self: end; }
        .month-labels { display: grid; grid-template-columns: repeat(${tt}, 1fr); gap: 5px; }
        .month { text-align: center; font-weight: 600; color: #1e3c72; background: #f8f9ff; padding: 8px; border-radius: 8px; font-size: 0.9rem; }
        .timeline-row { display: grid; grid-template-columns: 150px 1fr; gap: 10px; margin-bottom: 15px; align-items: center; }
        .channel-name { font-weight: 600; color: #333; font-size: 1rem; }
        .timeline-months { display: grid; grid-template-columns: repeat(${tt}, 1fr); gap: 5px; }
        .month-status { text-align: center; padding: 12px 0; border-radius: 8px; font-weight: bold; font-size: 1.1rem; }
        .month-status.active { background: #28a745; color: white; }
        .month-status.inactive { background: #e9ecef; color: #6c757d; }
        .timeline-legend { display: flex; justify-content: center; gap: 30px; margin-top: 25px; padding-top: 20px; border-top: 1px solid #e8ecf4; }
        .legend-item { display: flex; align-items: center; gap: 8px; }
        .legend-indicator { width: 20px; height: 20px; border-radius: 4px; }
        .legend-indicator.active { background: #28a745; }
        .legend-indicator.inactive { background: #e9ecef; }
        @media (max-width: 1200px) {
            .timeline-header, .timeline-row { grid-template-columns: 120px 1fr; }
        }
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .content { padding: 20px; }
            .timeline-header, .timeline-row { grid-template-columns: 100px 1fr; gap: 5px; }
            .month, .month-status { font-size: 0.8rem; padding: 6px 2px; }
            .channel-label, .channel-name { font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>${e}</h1>
            <div class="subtitle">Digital Performance Dashboard | ${o}</div>
        </div>

        <div class="content">
            <div class="section">
                <h2 class="section-title">Platform Performance</h2>
                <div class="performance-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Platform</th>
                                <th>Impressions</th>
                                <th>Reach</th>
                                <th>Clicks</th>
                                <th>CTR</th>
                            </tr>
                        </thead>
                        <tbody>${x}</tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Overall Results</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">${Cf(d.totalImpressions,_)}</div>
                        <div class="metric-label">Total Impressions</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${Cf(d.totalReach,A)}</div>
                        <div class="metric-label">Unique Users Reached</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${Cf(d.totalClicks,C)}</div>
                        <div class="metric-label">Total Clicks</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">${d.weightedAvgCTR.toFixed(2)}%</div>
                        <div class="metric-label">Weighted Average CTR</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Year to Go - Media Timeline</h2>
                <div class="timeline-container">
                    <div class="timeline-header">
                        <div class="channel-label">Channel</div>
                        <div class="month-labels">
                            ${H.map(J=>`<div class="month">${J.slice(0,3)}</div>`).join("")}
                        </div>
                    </div>
                    ${nt}
                    <div class="timeline-legend">
                        <div class="legend-item">
                            <div class="legend-indicator active"></div>
                            <span>Active</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-indicator inactive"></div>
                            <span>Paused</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`},ds=({title:s,children:e})=>W.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-slate-200",children:[W.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4 pb-2 border-b border-slate-200",children:s}),W.jsx("div",{children:e})]}),JE=({message:s,type:e,onClose:i})=>{tn.useEffect(()=>{const h=setTimeout(()=>{i()},5e3);return()=>{clearTimeout(h)}},[i]);const r="fixed bottom-5 right-5 p-4 rounded-lg shadow-xl text-white z-50 animate-slide-in-up",o={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500"};return W.jsxs("div",{className:`${r} ${o[e]}`,children:[W.jsxs("div",{className:"flex items-center justify-between",children:[W.jsx("span",{children:s}),W.jsx("button",{onClick:i,className:"ml-4 text-white font-bold",children:"×"})]}),W.jsx("style",{children:`
                @keyframes slide-in-up {
                    from {
                        transform: translateY(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateY(0);
                        opacity: 1;
                    }
                }
                .animate-slide-in-up {
                    animation: slide-in-up 0.5s ease-out forwards;
                }
            `})]})},WE=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},t1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},A_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,C=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,H=_&63;v||(H=64,d||(x=64)),r.push(i[A],i[C],i[x],i[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(T_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):t1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const C=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||C==null)throw new e1;const x=h<<2|y>>4;if(r.push(x),_!==64){const H=y<<4&240|_>>2;if(r.push(H),C!==64){const tt=_<<6&192|C;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class e1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(s){const e=T_(s);return A_.encodeByteArray(e,!0)},qu=function(s){return n1(s).replace(/\./g,"")},i1=function(s){try{return A_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>a1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof hy>"u")return;const s=hy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},l1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&i1(s[1]);return e&&JSON.parse(e)},ud=()=>{try{return WE()||r1()||s1()||l1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},o1=s=>{var e,i;return(i=(e=ud())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},u1=s=>{const e=o1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},b_=()=>{var s;return(s=ud())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qu(JSON.stringify(i)),qu(JSON.stringify(d)),""].join(".")}const Ql={};function d1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?s.emulator.push(e):s.prod.push(e);return s}function m1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let fy=!1;function g1(s,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||Ql[s]===e||Ql[s]||fy)return;Ql[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",h=d1().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{fy=!0,d()},x}function A(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=m1(r),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),St=i("preprendIcon"),dt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const pt=x.element;y(pt),A(J,nt);const Mt=_();v(dt,St),pt.append(dt,tt,J,Mt),document.body.appendChild(pt)}h?(tt.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){var e;const s=(e=ud())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v1(){try{return typeof indexedDB=="object"}catch{return!1}}function E1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class Cs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=T1,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S_.prototype.create)}}class S_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?A1(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,y,r)}}function A1(s,e){return s.replace(b1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const b1=/\{\$([^}]+)}/g;function Hu(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(dy(h)&&dy(d)){if(!Hu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function dy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(s){return s&&s._delegate?s._delegate:s}class Zl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new c1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w1(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(s){return s===yr?void 0:s}function w1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new S1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const D1={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},V1=zt.INFO,N1={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},I1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=N1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R_{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=I1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const x1=(s,e)=>e.some(i=>s instanceof i);let my,gy;function M1(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O1(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,Bf=new WeakMap,C_=new WeakMap,Vf=new WeakMap,hd=new WeakMap;function U1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ta(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&w_.set(i,s)}).catch(()=>{}),hd.set(e,s),e}function z1(s){if(Bf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,e)}let kf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||C_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ta(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function L1(s){kf=s(kf)}function P1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Nf(this),e,...i);return C_.set(r,e.sort?e.sort():[e]),Ta(r)}:O1().includes(s)?function(...e){return s.apply(Nf(this),e),Ta(w_.get(this))}:function(...e){return Ta(s.apply(Nf(this),e))}}function B1(s){return typeof s=="function"?P1(s):(s instanceof IDBTransaction&&z1(s),x1(s,M1())?new Proxy(s,kf):s)}function Ta(s){if(s instanceof IDBRequest)return U1(s);if(Vf.has(s))return Vf.get(s);const e=B1(s);return e!==s&&(Vf.set(s,e),hd.set(e,s)),e}const Nf=s=>hd.get(s);function k1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=Ta(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ta(d.result),v.oldVersion,v.newVersion,Ta(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const j1=["get","getKey","getAll","getAllKeys","count"],q1=["put","add","delete","clear"],If=new Map;function py(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=q1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||j1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return If.set(e,h),h}L1(s=>({...s,get:(e,i,r)=>py(e,i)||s.get(e,i,r),has:(e,i)=>!!py(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(G1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function G1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",yy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new R_("@firebase/app"),Q1="@firebase/app-compat",F1="@firebase/analytics-compat",Y1="@firebase/analytics",X1="@firebase/app-check-compat",K1="@firebase/app-check",Z1="@firebase/auth",$1="@firebase/auth-compat",J1="@firebase/database",W1="@firebase/data-connect",tT="@firebase/database-compat",eT="@firebase/functions",nT="@firebase/functions-compat",iT="@firebase/installations",aT="@firebase/installations-compat",rT="@firebase/messaging",sT="@firebase/messaging-compat",lT="@firebase/performance",oT="@firebase/performance-compat",uT="@firebase/remote-config",cT="@firebase/remote-config-compat",hT="@firebase/storage",fT="@firebase/storage-compat",dT="@firebase/firestore",mT="@firebase/ai",gT="@firebase/firestore-compat",pT="firebase",yT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",_T={[jf]:"fire-core",[Q1]:"fire-core-compat",[Y1]:"fire-analytics",[F1]:"fire-analytics-compat",[K1]:"fire-app-check",[X1]:"fire-app-check-compat",[Z1]:"fire-auth",[$1]:"fire-auth-compat",[J1]:"fire-rtdb",[W1]:"fire-data-connect",[tT]:"fire-rtdb-compat",[eT]:"fire-fn",[nT]:"fire-fn-compat",[iT]:"fire-iid",[aT]:"fire-iid-compat",[rT]:"fire-fcm",[sT]:"fire-fcm-compat",[lT]:"fire-perf",[oT]:"fire-perf-compat",[uT]:"fire-rc",[cT]:"fire-rc-compat",[hT]:"fire-gcs",[fT]:"fire-gcs-compat",[dT]:"fire-fst",[gT]:"fire-fst-compat",[mT]:"fire-vertex","fire-js":"fire-js",[pT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,vT=new Map,Hf=new Map;function _y(s,e){try{s.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qu(s){const e=s.name;if(Hf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,s);for(const i of Gu.values())_y(i,s);for(const i of vT.values())_y(i,s);return!0}function ET(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function TT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new S_("app","Firebase",AT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=yT;function D_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Aa.create("bad-app-name",{appName:String(o)});if(i||(i=b_()),!i)throw Aa.create("no-options");const h=Gu.get(o);if(h){if(Hu(i,h.options)&&Hu(r,h.config))return h;throw Aa.create("duplicate-app",{appName:o})}const d=new C1(o);for(const v of Hf.values())d.addComponent(v);const y=new bT(i,r,d);return Gu.set(o,y),y}function RT(s=qf){const e=Gu.get(s);if(!e&&s===qf&&b_())return D_();if(!e)throw Aa.create("no-app",{appName:s});return e}function _s(s,e,i){let r=_T[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}Qu(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebase-heartbeat-database",CT=1,$l="firebase-heartbeat-store";let xf=null;function V_(){return xf||(xf=k1(wT,CT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(s=>{throw Aa.create("idb-open",{originalErrorMessage:s.message})})),xf}async function DT(s){try{const i=(await V_()).transaction($l),r=await i.objectStore($l).get(N_(s));return await i.done,r}catch(e){if(e instanceof Cs)xi.warn(e.message);else{const i=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function vy(s,e){try{const r=(await V_()).transaction($l,"readwrite");await r.objectStore($l).put(e,N_(s)),await r.done}catch(i){if(i instanceof Cs)xi.warn(i.message);else{const r=Aa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(r.message)}}}function N_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,NT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ey();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>NT){const d=OT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ey(),{heartbeatsToSend:r,unsentEntries:o}=xT(this._heartbeatsCache.heartbeats),h=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function xT(s,e=VT){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ty(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ty(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class MT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v1()?E1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ty(s){return qu(JSON.stringify({version:2,heartbeats:s})).length}function OT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s){Qu(new Zl("platform-logger",e=>new H1(e),"PRIVATE")),Qu(new Zl("heartbeat",e=>new IT(e),"PRIVATE")),_s(jf,yy,s),_s(jf,yy,"esm2020"),_s("fire-js","")}UT("");var zT="firebase",LT="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(zT,LT,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,I_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function w(){}w.prototype=b.prototype,N.F=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(M,V,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return b.prototype[V].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,w){w||(w=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;V<16;++V)M[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],V=N.g[2];let U=N.g[3],R;R=b+(U^w&(V^U))+M[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(V^b&(w^V))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(w^U&(b^w))+M[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(b^V&(U^b))+M[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(U^w&(V^U))+M[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(V^b&(w^V))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(w^U&(b^w))+M[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(b^V&(U^b))+M[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(U^w&(V^U))+M[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(V^b&(w^V))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(w^U&(b^w))+M[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(b^V&(U^b))+M[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(U^w&(V^U))+M[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(V^b&(w^V))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(w^U&(b^w))+M[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(b^V&(U^b))+M[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(V^U&(w^V))+M[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(b^w))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(U^b))+M[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(V^U))+M[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(w^V))+M[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(b^w))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(U^b))+M[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(V^U))+M[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(w^V))+M[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(b^w))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(U^b))+M[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(V^U))+M[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(w^V))+M[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(b^w))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(U^b))+M[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(V^U))+M[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(w^V^U)+M[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^V)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^w)+M[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^b)+M[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^U)+M[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^V)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^w)+M[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^b)+M[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^U)+M[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^V)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^w)+M[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^b)+M[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^U)+M[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^V)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^w)+M[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^b)+M[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(V^(w|~U))+M[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~V))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~w))+M[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~b))+M[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~U))+M[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~V))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~w))+M[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~b))+M[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~U))+M[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~V))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~w))+M[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~b))+M[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~U))+M[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~V))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~w))+M[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,b){b===void 0&&(b=N.length);const w=b-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(M[V++]=N.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<b;)if(M[V++]=N[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)N[b++]=this.g[w]>>>M&255;return N};function h(N,b){var w=y;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;const w=[];let M=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;M&&U==b||(w[V]=U,M=!1)}this.g=w}var y={};function v(N){return-128<=N&&N<128?h(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(N<0)return J(_(-N));const b=[];let w=1;for(let M=0;N>=w;M++)b[M]=N/w|0,w*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return J(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let M=C;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+V),b);V<8?(V=_(Math.pow(b,V)),M=M.j(V).add(_(R))):(M=M.j(w),M=M.add(_(R)))}return M}var C=v(0),x=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();let N=0,b=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);N+=(M>=0?M:4294967296+M)*b,b*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+J(this).toString(N);const b=_(Math.pow(N,6));var w=this;let M="";for(;;){const V=Mt(w,b).g;w=St(w,V.j(b));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=V,tt(w))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=St(this,N),nt(N)?-1:tt(N)?0:1};function J(N){const b=N.g.length,w=[];for(let M=0;M<b;M++)w[M]=~N.g[M];return new d(w,~N.h).add(x)}s.abs=function(){return nt(this)?J(this):this},s.add=function(N){const b=Math.max(this.g.length,N.g.length),w=[];let M=0;for(let V=0;V<=b;V++){let U=M+(this.i(V)&65535)+(N.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=R>>>16,U&=65535,R&=65535,w[V]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function St(N,b){return N.add(J(b))}s.j=function(N){if(tt(this)||tt(N))return C;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(this.l(H)<0&&N.l(H)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,w=[];for(var M=0;M<2*b;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<N.g.length;V++){const U=this.i(M)>>>16,R=this.i(M)&65535,ee=N.i(V)>>>16,Kt=N.i(V)&65535;w[2*M+2*V]+=R*Kt,dt(w,2*M+2*V),w[2*M+2*V+1]+=U*Kt,dt(w,2*M+2*V+1),w[2*M+2*V+1]+=R*ee,dt(w,2*M+2*V+1),w[2*M+2*V+2]+=U*ee,dt(w,2*M+2*V+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function dt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function pt(N,b){this.g=N,this.h=b}function Mt(N,b){if(tt(b))throw Error("division by zero");if(tt(N))return new pt(C,C);if(nt(N))return b=Mt(J(N),b),new pt(J(b.g),J(b.h));if(nt(b))return b=Mt(N,J(b)),new pt(J(b.g),b.h);if(N.g.length>30){if(nt(N)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=b;M.l(N)<=0;)w=yt(w),M=yt(M);var V=bt(w,1),U=bt(M,1);for(M=bt(M,2),w=bt(w,2);!tt(M);){var R=U.add(M);R.l(N)<=0&&(V=V.add(w),U=R),M=bt(M,1),w=bt(w,1)}return b=St(N,V.j(b)),new pt(V,b)}for(V=C;N.l(b)>=0;){for(w=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(w),R=U.j(b);nt(R)||R.l(N)>0;)w-=M,U=_(w),R=U.j(b);tt(U)&&(U=x),V=V.add(U),N=St(N,R)}return new pt(V,N)}s.B=function(N){return Mt(this,N).h},s.and=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)&N.i(M);return new d(w,this.h&N.h)},s.or=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)|N.i(M);return new d(w,this.h|N.h)},s.xor=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)^N.i(M);return new d(w,this.h^N.h)};function yt(N){const b=N.g.length+1,w=[];for(let M=0;M<b;M++)w[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(w,N.h)}function bt(N,b){const w=b>>5;b%=32;const M=N.g.length-w,V=[];for(let U=0;U<M;U++)V[U]=b>0?N.i(U+w)>>>b|N.i(U+w+1)<<32-b:N.i(U+w);return new d(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,I_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ba=d}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,kl,M_,zu,Gf,O_,U_,z_;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in g))break t;g=g[P]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,g){return u.call.apply(u.bind,arguments)}function _(u,m,g){return _=v,_.apply(null,arguments)}function A(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var et=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)et[Tt-2]=arguments[Tt];return m.prototype[P].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=u.length||0;const q=P.length||0;u.length=g+q;for(let et=0;et<q;et++)u[g+et]=P[et]}else u.push(P)}}class nt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function St(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,g){const T=pt.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new nt(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,bt=!1,N=new dt,b=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(w)}};function w(){for(var u;u=St();){try{u.h.call(u.g)}catch(g){J(g)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}bt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(ee,V),ee.prototype.init=function(u,m){const g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Kt="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,g,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function D(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function Z(u){const m={};for(const g in u)m[g]=u[g];return m}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(u,m){let g,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(g in T)u[g]=T[g];for(let q=0;q<rt.length;q++)g=rt[q],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function Y(u){this.src=u,this.g={},this.h=0}Y.prototype.add=function(u,m,g,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=st(u,m,T,P);return et>-1?(m=u[et],g||(m.fa=!1)):(m=new it(m,this.src,q,!!T,P),m.fa=g,u.push(m)),m};function at(u,m){const g=m.type;if(g in u.g){var T=u.g[g],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ct(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function st(u,m,g,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return P}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),Bt={};function en(u,m,g,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)en(u,m[q],g,T,P);return null}return g=co(g),u&&u[Kt]?u.J(m,g,y(T)?!!T.capture:!1,P):Sr(u,m,g,!1,T,P)}function Sr(u,m,g,T,P,q){if(!m)throw Error("Invalid event type");const et=y(P)?!!P.capture:!!P;let Tt=xs(u);if(Tt||(u[ie]=Tt=new Y(u)),g=Tt.add(m,g,T,et,q),g.proxy)return g;if(T=Ui(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)U||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(je(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ui(){function u(g){return m.call(u.src,u.listener,g)}const m=Tc;return u}function jn(u,m,g,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)jn(u,m[q],g,T,P);else T=y(T)?!!T.capture:!!T,g=co(g),u&&u[Kt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],g=st(m,g,T,P),g>-1&&(ct(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=st(m,g,T,P)),(g=u>-1?m[u]:null)&&pe(g))}function pe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Kt])at(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(je(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=xs(m))?(at(g,u),g.h==0&&(g.src=null,m[ie]=null)):ct(u)}}}function je(u){return u in Bt?Bt[u]:Bt[u]="on"+u}function Tc(u,m){if(u.da)u=!0;else{m=new ee(m,this);const g=u.listener,T=u.ha||u.src;u.fa&&pe(u),u=g.call(T,m)}return u}function xs(u){return u=u[ie],u instanceof Y?u:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Te(){M.call(this),this.i=new Y(this),this.M=this,this.G=null}C(Te,M),Te.prototype[Kt]=!0,Te.prototype.removeEventListener=function(u,m,g,T){jn(this,u,m,g,T)};function De(u,m){var g,T=u.G;if(T)for(g=[];T;T=T.G)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(T,u),z(m,P)}P=!0;let q,et;if(g)for(et=g.length-1;et>=0;et--)q=m.g=g[et],P=ci(q,T,!0,m)&&P;if(q=m.g=u,P=ci(q,T,!0,m)&&P,P=ci(q,T,!1,m)&&P,g)for(et=0;et<g.length;et++)q=m.g=g[et],P=ci(q,T,!1,m)&&P}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let T=0;T<g.length;T++)ct(g[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},Te.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function ci(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==g){const Tt=et.listener,Jt=et.ha||et.src;et.fa&&at(u.i,et),P=Tt.call(Jt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ac(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ms(u){u.g=Ac(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bc extends M{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(u){M.call(this),this.h=u,this.g={}}C(Ua,M);var zi=[];function qe(u){xt(u.g,function(m,g){this.g.hasOwnProperty(g)&&pe(m)},u),u.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),qe(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,Ke=d.JSON.parse,Sc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Li(){V.call(this,"d")}C(Li,V);function In(){V.call(this,"c")}C(In,V);var vn={},Pi=null;function Rr(){return Pi=Pi||new Te}vn.Ia="serverreachability";function Os(u){V.call(this,vn.Ia,u)}C(Os,V);function Bi(u){const m=Rr();De(m,new Os(m))}vn.STAT_EVENT="statevent";function wr(u,m){V.call(this,vn.STAT_EVENT,u),this.stat=m}C(wr,V);function ue(u){const m=Rr();De(m,new wr(m,u))}vn.Ja="timingevent";function mo(u,m){V.call(this,vn.Ja,u),this.size=m}C(mo,V);function ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function Us(u,m,g,T,P,q){u.info(function(){if(u.g)if(q){var et="",Tt=q.split("&");for(let jt=0;jt<Tt.length;jt++){var Jt=Tt[jt].split("=");if(Jt.length>1){const fe=Jt[0];Jt=Jt[1];const un=fe.split("_");et=un.length>=2&&un[1]=="type"?et+(fe+"="+Jt+"&"):et+(fe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+g+`
`+et})}function zs(u,m,g,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+g+`
`+q+" "+et})}function hi(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hn(u,g)+(T?" "+T:"")})}function Rc(u,m){u.info(function(){return"TIMEOUT: "+m})}ji.prototype.info=function(){};function Hn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var g=q[u];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return _n(q)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fi;function za(){}C(za,ho),za.prototype.g=function(){return new XMLHttpRequest},fi=new za;function La(u){return encodeURIComponent(String(u))}function wc(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function xn(u,m,g,T){this.j=u,this.i=m,this.l=g,this.S=T||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var Cr={},Gn={};function Qn(u,m,g){u.M=1,u.A=mi(ae(m)),u.u=g,u.R=!0,Hi(u,null)}function Hi(u,m){u.F=Date.now(),Pa(u),u.B=ae(u.A);var g=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_o(g.i,"t",T),u.C=0,g=u.j.L,u.h=new qi,u.g=Lr(u.j,g?m:null,!u.u),u.P>0&&(u.O=new bc(_(u.Y,u,u.g),u.P)),m=u.V,g=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(zi[0]=P.toString()),P=zi);for(let q=0;q<P.length;q++){const et=en(g,P[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?Z(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Bi(),Us(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&He(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=He(this.g),Jt=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Ka(this.g)))){this.K||Tt!=4||Jt==7||(Jt==8||jt<=0?Bi(3):Bi(2)),Yn(this);var m=this.g.ca();this.X=m;var g=Gi(this);if(this.o=m==200,zs(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dr(this,u);else{this.o=!1,this.m=3,ue(12),Xn(this),Ba(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<g.length;)if(fe=go(this,g),fe==Gn){Tt==4&&(this.m=4,ue(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Cr){this.m=4,ue(15),hi(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,fe,null),Dr(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||g.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,g,"[Invalid Chunked Response]"),Xn(this),Ba(this);else if(g.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Fs(et),et.P=!0,ue(11))}}else hi(this.i,this.l,g,null),Dr(this,g);Tt==4&&Xn(this),this.o&&!this.K&&(Tt==4?Ys(this.j,this):(this.o=!1,Pa(this)))}else Za(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Xn(this),Ba(this)}}}catch{}finally{}};function Gi(u){if(!he(u))return u.g.la();const m=Ka(u.g);if(m==="")return"";let g="";const T=m.length,P=He(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Xn(u),Ba(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,g+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function go(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Gn:(g=Number(m.substring(g,T)),isNaN(g)?Cr:(T+=1,T+g>m.length?Gn:(m=m.slice(T,T+g),u.C=T+g,m)))}xn.prototype.cancel=function(){this.K=!0,Xn(this)};function Pa(u){u.T=Date.now()+u.H,Fn(u,u.H)}function Fn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ki(_(u.aa,u),m)}function Yn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rc(this.i,this.B),this.M!=2&&(Bi(),ue(17)),Xn(this),this.m=2,Ba(this)):Fn(this,this.T-u)};function Ba(u){u.j.I==0||u.K||Ys(u.j,u)}function Xn(u){Yn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Dr(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||qa(g.h,u))){if(!u.L&&qa(g.h,u)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)zr(g),Kn(g);else break t;Qs(g),ue(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ki(_(g.Va,g),6e3));En(g.h)<=1&&g.ta&&(g.ta=void 0)}else yi(g,11)}else if((u.L||g.g==u)&&zr(g),!R(m))for(P=g.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const fe=jt[0];if(!(fe<=g.K))if(g.K=fe,jt=jt[1],g.I==2)if(jt[0]=="c"){g.M=jt[1],g.ba=jt[2];const un=jt[3];un!=null&&(g.ka=un,g.j.info("VER="+g.ka));const Zn=jt[4];Zn!=null&&(g.za=Zn,g.j.info("SVER="+g.za));const Un=jt[5];Un!=null&&typeof Un=="number"&&Un>0&&(T=1.5*Un,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const zn=u.g;if(zn){const Ln=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var q=T.h;q.g||Ln.indexOf("spdy")==-1&&Ln.indexOf("quic")==-1&&Ln.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vr(q,q.h),q.h=null))}if(T.G){const Ks=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(T.wa=Ks,Gt(T.J,T.G,Ks))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var et=u;if(T.na=Co(T,T.L?T.ba:null,T.W),et.L){di(T.h,et);var Tt=et,Jt=T.O;Jt&&(Tt.H=Jt),Tt.D&&(Yn(Tt),Pa(Tt)),T.g=et}else bo(T);g.i.length>0&&tr(g)}else jt[0]!="stop"&&jt[0]!="close"||yi(g,7);else g.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?yi(g,7):Ja(g):jt[0]!="noop"&&g.l&&g.l.qa(jt),g.A=0)}}Bi(4)}catch{}}var Cc=class{constructor(u,m){this.g=u,this.map=m}};function ka(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ja(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function En(u){return u.h?1:u.g?u.g.size:0}function qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vr(u,m){u.g?u.g.add(m):u.h=m}function di(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ka.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return H(u.i)}var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const T=u[g].indexOf("=");let P,q=null;T>=0?(P=u[g].substring(0,T),q=u[g].substring(T+1)):P=u[g],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Qi(this,u.j),this.o=u.o,this.g=u.g,Ha(this,u.u),this.h=u.h,Fi(this,vo(u.i)),this.m=u.m):u&&(m=String(u).match(Ir))?(this.l=!1,Qi(this,m[1]||"",!0),this.o=Ga(m[2]||""),this.g=Ga(m[3]||"",!0),Ha(this,m[4]),this.h=Ga(m[5]||"",!0),Fi(this,m[6]||"",!0),this.m=Ga(m[7]||"")):(this.l=!1,this.i=new Tn(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ve(m,Ps,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ve(m,Ps,!0),"@"),u.push(La(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ve(g,g.charAt(0)=="/"?Yi:Bs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ve(g,yo)),u.join("")},Mn.prototype.resolve=function(u){const m=ae(this);let g=!!u.j;g?Qi(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var T=u.h;if(g)Ha(m,u.u);else if(g=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const Tt=P[et++];Tt=="."?T&&et==P.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==P.length&&q.push("")):(q.push(Tt),T=!0)}T=q.join("/")}else T=P}return g?m.h=T:g=u.i.toString()!=="",g?Fi(m,vo(u.i)):g=!!u.m,g&&(m.m=u.m),m};function ae(u){return new Mn(u)}function Qi(u,m,g){u.j=g?Ga(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ha(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fi(u,m,g){m instanceof Tn?(u.i=m,qs(u.i,u.l)):(g||(m=Ve(m,po)),u.i=new Tn(m,u.l))}function Gt(u,m,g){u.i.set(m,g)}function mi(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ga(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ve(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,Ls),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ls(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ps=/[#\/\?@]/g,Bs=/[#\?:]/g,Yi=/[#\?]/g,po=/[#\?@]/g,yo=/#/g;function Tn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gi(u){u.g||(u.g=new Map,u.h=0,u.i&&Dc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Tn.prototype,s.add=function(u,m){gi(this),this.i=null,u=On(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function ks(u,m){gi(u),m=On(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function js(u,m){return gi(u),m=On(u,m),u.g.has(m)}s.forEach=function(u,m){gi(this),this.g.forEach(function(g,T){g.forEach(function(P){u.call(m,P,T,this)},this)},this)};function xr(u,m){gi(u);let g=[];if(typeof m=="string")js(u,m)&&(g=g.concat(u.g.get(On(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}s.set=function(u,m){return gi(this),this.i=null,u=On(this,u),js(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xr(this,u),u.length>0?String(u[0]):m):m};function _o(u,m,g){ks(u,m),g.length>0&&(u.i=null,u.g.set(On(u,m),H(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const P=La(g);g=xr(this,g);for(let q=0;q<g.length;q++){let et=P;g[q]!==""&&(et+="="+La(g[q])),u.push(et)}}return this.i=u.join("&")};function vo(u){const m=new Tn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function On(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qs(u,m){m&&!u.j&&(gi(u),u.i=null,u.g.forEach(function(g,T){const P=T.toLowerCase();T!=P&&(ks(this,T),_o(this,P,g))},u)),u.j=m}function Hs(u,m){const g=new ji;if(d.Image){const T=new Image;T.onload=A(Ze,g,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Ze,g,"TestLoadImage: error",!1,m,T),T.onabort=A(Ze,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Ze,g,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xi(u,m){const g=new ji,T=new AbortController,P=setTimeout(()=>{T.abort(),Ze(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Ze(g,"TestPingServer: ok",!0,m):Ze(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ze(g,"TestPingServer: error",!1,m)})}function Ze(u,m,g,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(g)}catch{}}function Eo(){this.g=new Sc}function Qa(u){this.i=u.Sb||null,this.h=u.ab||!1}C(Qa,ho),Qa.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Fa,Te),s=Fa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,pi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$e(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ki(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ki(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$e(this):pi(this),this.readyState==3&&Ki(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,$e(this))},s.Na=function(u){this.g&&(this.response=u,$e(this))},s.ga=function(){this.g&&$e(this)};function $e(u){u.readyState=4,u.l=null,u.j=null,u.B=null,pi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function pi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zi(u){let m="";return xt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function An(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Zi(g),typeof u=="string"?g!=null&&La(g):Gt(u,m,g))}function Zt(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Zt,Te);var Mr=/^https?$/i,To=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fi.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ya(this,q);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)g.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||T||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of g)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ya(this,q)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xa(u),Ae(u)}function Xa(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ae(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ae(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},s.Xa=function(){Gs(this)};function Gs(u){if(u.h&&typeof h<"u"){if(u.v&&He(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),He(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=q===0){let et=String(u.D).match(Ir)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Mr.test(et?et.toLowerCase():"")}g=T}if(g)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=He(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xa(u)}}finally{Ae(u)}}}}function Ae(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||De(u,"ready");try{g.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function He(u){return u.g?u.g.readyState:0}s.ca=function(){try{return He(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ke(m)}};function Ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(u){const m={};u=(u.g&&He(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var g=wc(u[T]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[P]||[];m[P]=q,q.push(g)}D(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Or(u){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,u),this.Za=$a("retryDelaySeedMs",1e4,u),this.Ta=$a("forwardChannelMaxRetries",2,u),this.va=$a("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ka(u&&u.concurrentRequestLimit),this.Ba=new Eo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Or.prototype,s.ka=8,s.I=1,s.connect=function(u,m,g,T){ue(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Co(this,null,this.W),tr(this)};function Ja(u){if(Wa(u),u.I==3){var m=u.V++,g=ae(u.J);if(Gt(g,"SID",u.M),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),er(u,g),m=new xn(u,u.j,m),m.M=2,m.A=mi(ae(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=Lr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Pa(m)}wo(u)}function Kn(u){u.g&&(Fs(u),u.g.cancel(),u.g=null)}function Wa(u){Kn(u),u.v&&(d.clearTimeout(u.v),u.v=null),zr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function tr(u){if(!ja(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||b(),bt||(yt(),bt=!0),N.add(m,u),u.D=0}}function Vc(u,m){return En(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ki(_(u.Ea,u,m),Ro(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=Z(q),z(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Ur(this,P,m),g=ae(this.J),Gt(g,"RID",u),Gt(g,"CVER",22),this.G&&Gt(g,"X-HTTP-Session-Id",this.G),er(this,g),q&&(this.R?m="headers="+La(Zi(q))+"&"+m:this.u&&An(g,this.u,q)),Vr(this.h,P),this.Ra&&Gt(g,"TYPE","init"),this.S?(Gt(g,"$req",m),Gt(g,"SID","null"),P.U=!0,Qn(P,g,null)):Qn(P,g,m),this.I=2}}else this.I==3&&(u?Ao(this,u):this.i.length==0||ja(this.h)||Ao(this))};function Ao(u,m){var g;m?g=m.l:g=u.V++;const T=ae(u.J);Gt(T,"SID",u.M),Gt(T,"RID",g),Gt(T,"AID",u.K),er(u,T),u.u&&u.o&&An(T,u.u,u.o),g=new xn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ur(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vr(u.h,g),Qn(g,T,m)}function er(u,m){u.H&&xt(u.H,function(g,T){Gt(m,T,g)}),u.l&&xt({},function(g,T){Gt(m,T,g)})}function Ur(u,m,g){g=Math.min(u.i.length,g);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Tt=-1;for(;;){const Jt=["count="+g];Tt==-1?g>0?(Tt=P[0].g,Jt.push("ofs="+Tt)):Tt=0:Jt.push("ofs="+Tt);let jt=!0;for(let fe=0;fe<g;fe++){var q=P[fe].g;const un=P[fe].map;if(q-=Tt,q<0)Tt=Math.max(0,P[fe].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var et=un instanceof Map?un:Object.entries(un);for(const[Zn,Un]of et){let zn=Un;y(Un)&&(zn=_n(Un)),Jt.push(q+Zn+"="+encodeURIComponent(zn))}}catch(Zn){throw Jt.push(q+"type="+encodeURIComponent("_badmap")),Zn}}catch{T&&T(un)}}if(jt){et=Jt.join("&");break t}}et=void 0}return u=u.i.splice(0,g),m.G=u,et}function bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||b(),bt||(yt(),bt=!0),N.add(m,u),u.A=0}}function Qs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ki(_(u.Da,u),Ro(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,So(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ki(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Kn(this),So(this))};function Fs(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function So(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ae(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),er(u,m),u.u&&u.o&&An(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=mi(ae(m)),g.u=null,g.R=!0,Hi(g,u)}s.Va=function(){this.C!=null&&(this.C=null,Kn(this),Qs(this),ue(19))};function zr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ys(u,m){var g=null;if(u.g==m){zr(u),Fs(u),u.g=null;var T=2}else if(qa(u.h,m))g=m.G,di(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Rr(),De(T,new mo(T,g)),tr(u)}else bo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Vc(u,m)||T==2&&Qs(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),P){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Ro(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var g=_(u.bb,u),T=u.Ua;const P=!T;T=new Mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qi(T,"https"),mi(T),P?Hs(T.toString(),g):Xi(T.toString(),g)}else ue(2);u.I=0,u.l&&u.l.pa(m),wo(u),Wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function wo(u){if(u.I=0,u.ja=[],u.l){const m=Nr(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Co(u,m,g){var T=g instanceof Mn?ae(g):new Mn(g);if(T.g!="")m&&(T.g=m+"."+T.g),Ha(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Mn(null);T&&Qi(q,T),m&&(q.g=m),P&&Ha(q,P),g&&(q.h=g),T=q}return g=u.G,m=u.wa,g&&m&&Gt(T,g,m),Gt(T,"VER",u.ka),er(u,T),T}function Lr(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Qa({ab:g})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}s=Do.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Pr(){}Pr.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){Te.call(this),this.g=new Or(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}C(Je,Te),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Ja(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=_n(u),u=g);m.i.push(new Cc(m.Ya++,u)),m.I==3&&tr(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Ja(this.g),delete this.g,Je.Z.N.call(this)};function Xs(u){Li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(Xs,Li);function Vo(){In.call(this),this.status=1}C(Vo,In);function $i(u){this.g=u}C($i,Do),$i.prototype.ra=function(){De(this.g,"a")},$i.prototype.qa=function(u){De(this.g,new Xs(u))},$i.prototype.pa=function(u){De(this.g,new Vo)},$i.prototype.oa=function(){De(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,z_=function(){return new Pr},U_=function(){return Rr()},O_=vn,Gf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,zu=ce,Oe.COMPLETE="complete",M_=Oe,fo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,kl=fo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,x_=Zt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",Sy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new R_("@firebase/firestore");function ms(){return Er.logLevel}function lt(s,...e){if(Er.logLevel<=zt.DEBUG){const i=e.map(fd);Er.debug(`Firestore (${Ds}): ${s}`,...i)}}function Mi(s,...e){if(Er.logLevel<=zt.ERROR){const i=e.map(fd);Er.error(`Firestore (${Ds}): ${s}`,...i)}}function Ts(s,...e){if(Er.logLevel<=zt.WARN){const i=e.map(fd);Er.warn(`Firestore (${Ds}): ${s}`,...i)}}function fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,L_(s,r,i)}function L_(s,e,i){let r=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Mi(r),new Error(r)}function kt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||L_(e,o,r)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class BT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kT{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ii,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ii)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new P_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class jT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new jT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const r=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ry(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=GT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Nt(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Mf(o)===Mf(h)?Nt(o,h):Mf(o)?1:-1}return Nt(s.length,e.length)}const QT=55296,FT=57343;function Mf(s){const e=s.charCodeAt(0);return e>=QT&&e<=FT}function As(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="__name__";class ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&_t(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const r=ni.isNumericId(e),o=ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class Wt extends ni{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,r){return new Be(e,i,r)}static isValidIdentifier(e){return YT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wy}static keyField(){return new Be([wy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(s,e,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function XT(s,e,i,r){if(e===!0&&r===!0)throw new ut($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Cy(s){if(!ft.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Dy(s){if(ft.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function k_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function wa(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=md(s);throw new ut($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e){const i={typeString:s};return e&&(i.value=e),i}function ao(s,e){if(!k_(s))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-62135596800,Ny=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Ny);return new te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vy)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ao(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function KT(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Ca(o,ft.empty(),e)}function ZT(s){return new Ca(s.readTime,s.key,Jl)}class Ca{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ca(Et.min(),ft.empty(),Jl)}static max(){return new Ca(Et.max(),ft.empty(),Jl)}}function $T(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==JT)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,r)=>{i(e)}))}static reject(e){return new K(((i,r)=>{r(e)}))}static waitFor(e){return new K(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next((o=>o?K.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new K(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function tA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ns(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function rc(s){return s==null}function Fu(s){return s===0&&1/s==-1/0}function eA(s){return typeof s=="number"&&Number.isInteger(s)&&!Fu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="";function nA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Iy(e)),e=iA(s.get(i),e);return Iy(e)}function iA(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case j_:i+="";break;default:i+=h}}return i}function Iy(s){return s+j_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ma(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Pe(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Ce(Be.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new H_("Invalid base64 string: "+h):h}})(e);return new ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=aA.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Va(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",Q_="__type__",F_="__previous_value__",Y_="__local_write_time__";function pd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Q_])==null?void 0:r.stringValue)===G_}function sc(s){const e=s.mapValue.fields[F_];return pd(e)?sc(e):e}function Wl(s){const e=Da(s.mapValue.fields[Y_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,i,r,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yu="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",sA="__max__",xu={mapValue:{}},K_="__vector__",Xu="value";function Na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?pd(s)?4:oA(s)?9007199254740991:lA(s)?10:11:_t(28295,{value:s})}function oi(s,e){if(s===e)return!0;const i=Na(s);if(i!==Na(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Da(o.timestampValue),y=Da(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Va(o.bytesValue).isEqual(Va(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),y=ge(h.doubleValue);return d===y?Fu(d)===Fu(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return As(s.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(xy(d)!==xy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!oi(d[v],y[v])))return!1;return!0})(s,e);default:return _t(52216,{left:s})}}function eo(s,e){return(s.values||[]).find((i=>oi(i,e)))!==void 0}function bs(s,e){if(s===e)return 0;const i=Na(s),r=Na(e);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Oy(s.timestampValue,e.timestampValue);case 4:return Oy(Wl(s),Wl(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Va(h),v=Va(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Nt(y[_],v[_]);if(A!==0)return A}return Nt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Nt(ge(h.latitude),ge(d.latitude));return y!==0?y:Nt(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Uy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var x,H,tt,nt;const y=h.fields||{},v=d.fields||{},_=(x=y[Xu])==null?void 0:x.arrayValue,A=(H=v[Xu])==null?void 0:H.arrayValue,C=Nt(((tt=_==null?void 0:_.values)==null?void 0:tt.length)||0,((nt=A==null?void 0:A.values)==null?void 0:nt.length)||0);return C!==0?C:Uy(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===xu.mapValue&&d===xu.mapValue)return 0;if(h===xu.mapValue)return 1;if(d===xu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const x=Qf(v[C],A[C]);if(x!==0)return x;const H=bs(y[v[C]],_[A[C]]);if(H!==0)return H}return Nt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function Oy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=Da(s),r=Da(e),o=Nt(i.seconds,r.seconds);return o!==0?o:Nt(i.nanos,r.nanos)}function Uy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=bs(i[o],r[o]);if(h)return h}return Nt(i.length,r.length)}function Ss(s){return Ff(s)}function Ff(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Va(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Ff(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Ff(i.fields[d])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function Lu(s){switch(Na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(s);return e?16+Lu(e):16;case 5:return 2*s.stringValue.length;case 6:return Va(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Lu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((h,d)=>{o+=h.length+Lu(d)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function Yf(s){return!!s&&"integerValue"in s}function yd(s){return!!s&&"arrayValue"in s}function zy(s){return!!s&&"nullValue"in s}function Ly(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pu(s){return!!s&&"mapValue"in s}function lA(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[X_])==null?void 0:r.stringValue)===K_}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ma(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function oA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Be.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Fl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ma(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new on(Fl(this.value))}}function Z_(s){const e=[];return Ma(s.fields,((i,r)=>{const o=new Be([i]);if(Pu(r)){const h=Z_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,Et.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i){this.position=e,this.inclusive=i}}function Py(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=bs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function By(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!oi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i="asc"){this.field=e,this.dir=i}}function uA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{}class Re extends $_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new hA(e,i,r):i==="array-contains"?new mA(e,r):i==="in"?new gA(e,r):i==="not-in"?new pA(e,r):i==="array-contains-any"?new yA(e,r):new Re(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new fA(e,r):new dA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bs(i,this.value)):i!==null&&Na(this.value)===Na(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends $_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ui(e,i)}matches(e){return J_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J_(s){return s.op==="and"}function W_(s){return cA(s)&&J_(s)}function cA(s){for(const e of s.filters)if(e instanceof ui)return!1;return!0}function Xf(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Ss(s.value);if(W_(s))return s.filters.map((e=>Xf(e))).join(",");{const e=s.filters.map((i=>Xf(i))).join(",");return`${s.op}(${e})`}}function tv(s,e){return s instanceof Re?(function(r,o){return o instanceof Re&&r.op===o.op&&r.field.isEqual(o.field)&&oi(r.value,o.value)})(s,e):s instanceof ui?(function(r,o){return o instanceof ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&tv(d,o.filters[y])),!0):!1})(s,e):void _t(19439)}function ev(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ss(i.value)}`})(s):s instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(ev).join(" ,")+"}"})(s):"Filter"}class hA extends Re{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class fA extends Re{constructor(e,i){super(e,"in",i),this.keys=nv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dA extends Re{constructor(e,i){super(e,"not-in",i),this.keys=nv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function nv(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ft.fromName(r.referenceValue)))}class mA extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&eo(i.arrayValue,this.value)}}class gA extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class pA extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class yA extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function ky(s,e=null,i=[],r=[],o=null,h=null,d=null){return new _A(s,e,i,r,o,h,d)}function _d(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Xf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ss(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ss(r))).join(",")),e.Te=i}return e.Te}function vd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!By(s.startAt,e.startAt)&&By(s.endAt,e.endAt)}function Kf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vA(s,e,i,r,o,h,d,y){return new lc(s,e,i,r,o,h,d,y)}function Ed(s){return new lc(s)}function jy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function EA(s){return s.collectionGroup!==null}function Yl(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ce(Be.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Zu(h,r))})),i.has(Be.keyField().canonicalString())||e.Ie.push(new Zu(Be.keyField(),r))}return e.Ie}function ii(s){const e=At(s);return e.Ee||(e.Ee=TA(e,Yl(s))),e.Ee}function TA(s,e){if(s.limitType==="F")return ky(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Zu(o.field,h)}));const i=s.endAt?new Ku(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ku(s.startAt.position,s.startAt.inclusive):null;return ky(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Zf(s,e,i){return new lc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function oc(s,e){return vd(ii(s),ii(e))&&s.limitType===e.limitType}function iv(s){return`${_d(ii(s))}|lt:${s.limitType}`}function gs(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>ev(o))).join(", ")}]`),rc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ss(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ss(o))).join(",")),`Target(${r})`})(ii(s))}; limitType=${s.limitType})`}function uc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Yl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Py(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(d,y,v){const _=Py(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Yl(r),o))})(s,e)}function AA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function av(s){return(e,i)=>{let r=!1;for(const o of Yl(s)){const h=bA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function bA(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?bs(v,_):_t(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new se(ft.comparator);function Oi(){return SA}const rv=new se(ft.comparator);function jl(...s){let e=rv;for(const i of s)e=e.insert(i.key,i);return e}function sv(s){let e=rv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _r(){return Xl()}function lv(){return Xl()}function Xl(){return new Ar((s=>s.toString()),((s,e)=>s.isEqual(e)))}const RA=new se(ft.comparator),wA=new Ce(ft.comparator);function It(...s){let e=wA;for(const i of s)e=e.add(i);return e}const CA=new Ce(Nt);function DA(){return CA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function ov(s){return{integerValue:""+s}}function VA(s,e){return eA(e)?ov(e):Td(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function NA(s,e,i){return s instanceof $u?(function(o,h){const d={fields:{[Q_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&pd(h)&&(h=sc(h)),h&&(d.fields[F_]=h),{mapValue:d}})(i,e):s instanceof no?cv(s,e):s instanceof io?hv(s,e):(function(o,h){const d=uv(o,h),y=qy(d)+qy(o.Ae);return Yf(d)&&Yf(o.Ae)?ov(y):Td(o.serializer,y)})(s,e)}function IA(s,e,i){return s instanceof no?cv(s,e):s instanceof io?hv(s,e):i}function uv(s,e){return s instanceof Ju?(function(r){return Yf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class $u extends cc{}class no extends cc{constructor(e){super(),this.elements=e}}function cv(s,e){const i=fv(e);for(const r of s.elements)i.some((o=>oi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class io extends cc{constructor(e){super(),this.elements=e}}function hv(s,e){let i=fv(e);for(const r of s.elements)i=i.filter((o=>!oi(o,r)));return{arrayValue:{values:i}}}class Ju extends cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function qy(s){return ge(s.integerValue||s.doubleValue)}function fv(s){return yd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function xA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof no&&o instanceof no||r instanceof io&&o instanceof io?As(r.elements,o.elements,oi):r instanceof Ju&&o instanceof Ju?oi(r.Ae,o.Ae):r instanceof $u&&o instanceof $u})(s.transform,e.transform)}class MA{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class hc{}function dv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gv(s.key,ai.none()):new ro(s.key,s.data,ai.none());{const i=s.data,r=on.empty();let o=new Ce(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Oa(s.key,r,new yn(o.toArray()),ai.none())}}function OA(s,e,i){s instanceof ro?(function(o,h,d){const y=o.value.clone(),v=Gy(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Oa?(function(o,h,d){if(!Bu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Gy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(mv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof ro?(function(h,d,y,v){if(!Bu(h.precondition,d))return y;const _=h.value.clone(),A=Qy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Oa?(function(h,d,y,v){if(!Bu(h.precondition,d))return y;const _=Qy(h.fieldTransforms,v,d),A=d.data;return A.setAll(mv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(s,e,i,r):(function(h,d,y){return Bu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function UA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=uv(r.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function Hy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&As(r,o,((h,d)=>xA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ro extends hc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends hc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function mv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Gy(s,e,i){const r=new Map;kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,IA(d,y,i[o]))}return r}function Qy(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,NA(h,d,e))}return r}class gv extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zA extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&OA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=lv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=dv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,((i,r)=>Hy(i,r)))&&As(this.baseMutations,e.baseMutations,((i,r)=>Hy(i,r)))}}class Ad{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return RA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Ad(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function kA(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function pv(s){if(s===void 0)return Mi("GRPC error has no .code"),$.UNKNOWN;switch(s){case ve.OK:return $.OK;case ve.CANCELLED:return $.CANCELLED;case ve.UNKNOWN:return $.UNKNOWN;case ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ve.INTERNAL:return $.INTERNAL;case ve.UNAVAILABLE:return $.UNAVAILABLE;case ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ve.NOT_FOUND:return $.NOT_FOUND;case ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ve.ABORTED:return $.ABORTED;case ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ve.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new ba([4294967295,4294967295],0);function Fy(s){const e=jA().encode(s),i=new I_;return i.update(e),new Uint8Array(i.digest())}function Yy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ba([i,r],0),new ba([o,h],0)]}class bd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ba.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ba.fromNumber(r)));return o.compare(qA)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Fy(e),[r,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new bd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Fy(e),[r,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new fc(Et.min(),o,new se(Nt),Oi(),It())}}class so{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new so(r,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class yv{constructor(e,i){this.targetId=e,this.Ce=i}}class _v{constructor(e,i,r=ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Xy{constructor(){this.ve=0,this.Fe=Ky(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:h})}})),new so(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Ky()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.Je=Mu(),this.He=Mu(),this.Ye=new se(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Kf(h))if(r===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Va(r).toUint8Array()}catch(v){if(v instanceof H_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new bd(d,o,h)}catch(v){return Ts(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Kf(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=It();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new fc(e,i,this.Ye,this.je,r);return this.je=Oi(),this.Je=Mu(),this.He=Mu(),this.Ye=new se(Nt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Xy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new se(ft.comparator)}function Ky(){return new se(ft.comparator)}const GA={asc:"ASCENDING",desc:"DESCENDING"},QA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FA={and:"AND",or:"OR"};class YA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(s,e){return s.useProto3Json||rc(e)?e:{value:e}}function Wu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function XA(s,e){return Wu(s,e.toTimestamp())}function ri(s){return kt(!!s,49232),Et.fromTimestamp((function(i){const r=Da(i);return new te(r.seconds,r.nanos)})(s))}function Sd(s,e){return Jf(s,e).canonicalString()}function Jf(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Ev(s){const e=Wt.fromString(s);return kt(Rv(e),10190,{key:e.toString()}),e}function Wf(s,e){return Sd(s.databaseId,e.path)}function Of(s,e){const i=Ev(e);if(i.get(1)!==s.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Av(i))}function Tv(s,e){return Sd(s.databaseId,e)}function KA(s){const e=Ev(s);return e.length===4?Wt.emptyPath():Av(e)}function td(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Av(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zy(s,e,i){return{name:Wf(s,e),fields:i.value.mapValue.fields}}function ZA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:pv(_.code);return new ut(A,_.message||"")})(d);i=new _v(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Of(s,r.document.name),h=ri(r.document.updateTime),d=r.document.createTime?ri(r.document.createTime):Et.min(),y=new on({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new ku(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Of(s,r.document),h=r.readTime?ri(r.readTime):Et.min(),d=Xe.newNoDocument(o,h),y=r.removedTargetIds||[];i=new ku([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Of(s,r.document),h=r.removedTargetIds||[];i=new ku([],h,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new BA(o,h),y=r.targetId;i=new yv(y,d)}}return i}function $A(s,e){let i;if(e instanceof ro)i={update:Zy(s,e.key,e.value)};else if(e instanceof gv)i={delete:Wf(s,e.key)};else if(e instanceof Oa)i={update:Zy(s,e.key,e.data),updateMask:sb(e.fieldMask)};else{if(!(e instanceof zA))return _t(16599,{Vt:e.type});i={verify:Wf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof $u)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ju)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:XA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)})(s,e.precondition)),i}function JA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(Et.min())&&(d=ri(h)),new MA(d,o.transformResults||[])})(i,e)))):[]}function WA(s,e){return{documents:[Tv(s,e.path)]}}function tb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Tv(s,o);const h=(function(_){if(_.length!==0)return Sv(ui.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:ps(x.field),direction:ib(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=$f(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function eb(s){let e=KA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(C){const x=bv(C);return x instanceof ui&&W_(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((x=>(function(tt){return new Zu(ys(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let x;return x=typeof C=="object"?C.value:C,rc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(C){const x=!!C.before,H=C.values||[];return new Ku(H,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const x=!C.before,H=C.values||[];return new Ku(H,x)})(i.endAt)),vA(e,o,d,h,y,"F",v,_)}function nb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ys(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ys(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ys(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ys(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(ys(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((r=>bv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function ib(s){return GA[s]}function ab(s){return QA[s]}function rb(s){return FA[s]}function ps(s){return{fieldPath:s.canonicalString()}}function ys(s){return Be.fromServerFormat(s.fieldPath)}function Sv(s){return s instanceof Re?(function(i){if(i.op==="=="){if(Ly(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NAN"}};if(zy(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ly(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NAN"}};if(zy(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(i.field),op:ab(i.op),value:i.value}}})(s):s instanceof ui?(function(i){const r=i.getFilters().map((o=>Sv(o)));return r.length===1?r[0]:{compositeFilter:{op:rb(i.op),filters:r}}})(s):_t(54877,{filter:s})}function sb(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Rv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i,r,o,h=Et.min(),d=Et.min(),y=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.yt=e}}function ob(s){const e=eb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.Cn=new cb}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ca.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class cb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ce(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ce(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(wv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rs(0)}static cr(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",hb=1048576;function Wy([s,e],[i,r]){const o=Nt(s,i);return o===0?Nt(e,r):o}class fb{constructor(e){this.Ir=e,this.buffer=new Ce(Wy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Wy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class db{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Jy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ns(i)?lt(Jy,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Vr(3e5)}))}}class mb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(ac.ce);const r=new fb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve($y)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(r=C,y=Date.now(),this.removeTargets(e,r,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((C=>(_=Date.now(),ms()<=zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C}))))}}function gb(s,e){return new mb(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.changes=new Ar((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Kl(r.mutation,o,yn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const o=_r();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=jl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_r();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Oi();const d=Xl(),y=(function(){return Xl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Oa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new yb(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Xl();let o=new se(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||yn.empty();A=y.applyToLocalView(_,A),r.set(v,A);const C=(o.get(y.batchId)||It()).add(v);o=o.insert(y.batchId,C)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,C=lv();A.forEach((x=>{if(!h.has(x)){const H=dv(i.get(x),r.get(x));H!==null&&C.set(x,H),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):EA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):K.resolve(_r());let y=Jl,v=h;return d.next((_=>K.forEach(_,((A,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:y,changes:sv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(C,x){return new lc(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((C,x)=>{d=d.insert(C,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=jl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,yn.empty(),te.now()),uc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ob(o.bundledQuery),readTime:ri(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.overlays=new se(ft.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_r();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const o=_r(),h=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new se(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=_r(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=_r(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return K.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new PA(i,r));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Qr=new Ce(Me.$r),this.Ur=new Ce(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Me(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ft(new Wt([])),r=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new Wt([])),r=new Me(i,e),o=new Me(i,e+1);let h=It();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Me.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LA(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Me(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ce(Nt);return i.forEach((o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ft(h),0);let y=new Ce(Nt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(o=>{const h=new Me(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Me(i,0),o=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.ri=e,this.docs=(function(){return new se(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Oi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Oi();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||$T(ZT(A),r)<=0||(o.has(A.key)||uc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,o){_t(9500)}ii(e,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Sb(this)}getSize(e){return K.resolve(this.size)}}class Sb extends pb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.persistence=e,this.si=new Ar((i=>_d(i)),vd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Rd,this.targetCount=0,this.ai=Rs.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,i){this.ui={},this.overlays={},this.ci=new ac(0),this.li=!1,this.li=!0,this.hi=new Tb,this.referenceDelegate=e(this),this.Pi=new Rb(this),this.indexManager=new ub,this.remoteDocumentCache=(function(o){return new bb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lb(i),this.Ii=new vb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Eb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Ab(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){lt("MemoryPersistence","Starting transaction:",e);const o=new wb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class wb extends WT{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Rd,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.pi=new Ar((r=>nA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gb(this,i)}static mi(e,i){return new tc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}br(e,i,r){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Cd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _1()?8:tA(p1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Cb;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(ms()<=zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",gs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(ms()<=zt.DEBUG&&lt("QueryEngine","Query:",gs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ms()<=zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",gs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(i))):K.resolve())}ys(e,i){if(jy(i))return K.resolve(null);let r=ii(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Zf(i,null,"F"),r=ii(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Zf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return jy(i)||o.isEqual(Et.min())?K.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?K.resolve(null):(ms()<=zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gs(i)),this.vs(e,d,i,KT(o,Jl)).next((y=>y)))}))}Ds(e,i){let r=new Ce(av(e));return i.forEach(((o,h)=>{uc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return ms()<=zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gs(i)),this.ps.getDocumentsMatchingQuery(e,i,Ca.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",Vb=3e8;class Nb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new se(Nt),this.xs=new Ar((h=>_d(h)),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _b(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Ib(s,e,i,r){return new Nb(s,e,i,r)}async function Dv(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=It();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function xb(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const C=_.batch,x=C.keys();let H=K.resolve();return x.forEach((tt=>{H=H.next((()=>A.getEntry(v,tt))).next((nt=>{const J=_.docVersions.get(tt);kt(J!==null,48541),nt.version.compareTo(J)<0&&(C.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,C)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Vv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Mb(s,e){const i=At(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,C)=>{const x=o.get(C);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C))));let H=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,r)),o=o.insert(C,H),(function(nt,J,St){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Vb?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0})(x,H,A)&&y.push(i.Pi.updateTargetData(h,H))}));let v=Oi(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(Ob(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function Ob(s,e,i){let r=It(),o=It();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Oi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):lt(Dd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Ub(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zb(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Ea(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function ed(s,e,i){const r=At(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ns(d))throw d;lt(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function t_(s,e,i){const r=At(s);let o=Et.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const C=At(v),x=C.xs.get(A);return x!==void 0?K.resolve(C.Ms.get(x)):C.Pi.getTargetData(_,A)})(r,d,ii(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:It()))).next((y=>(Lb(r,AA(e),y),{documents:y,Qs:h})))))}function Lb(s,e,i){let r=s.Os.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class e_{constructor(){this.activeTargetIds=DA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pb{constructor(){this.Mo=new e_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class i_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(n_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function nd(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=nd(),y=this.zo(e,i.toUriEncodedString());lt(Uf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=cd(_);return this.Jo(e,y,v,r,A).then((C=>(lt(Uf,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw Ts(Uf,`RPC '${e}' ${d} failed with error: `,C,"url: ",y,"request:",r),C}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ds})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=kb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class Hb extends jb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=nd();return new Promise(((y,v)=>{const _=new x_;_.setWithCredentials(!0),_.listenOnce(M_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zu.NO_ERROR:const C=_.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),y(C);break;case zu.TIMEOUT:lt(Fe,`RPC '${e}' ${d} timed out`),v(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const x=_.getStatus();if(lt(Fe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H==null?void 0:H.error;if(tt&&tt.status&&tt.message){const nt=(function(St){const dt=St.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN})(tt.status);v(new ut(nt,tt.message))}else v(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);lt(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=nd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=z_(),y=U_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");lt(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const C=d.createWebChannel(A,v);this.I_(C);let x=!1,H=!1;const tt=new qb({Yo:J=>{H?lt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(lt(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),x=!0),lt(Fe,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Zo:()=>C.close()}),nt=(J,St,dt)=>{J.listen(St,(pt=>{try{dt(pt)}catch(Mt){setTimeout((()=>{throw Mt}),0)}}))};return nt(C,kl.EventType.OPEN,(()=>{H||(lt(Fe,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),nt(C,kl.EventType.CLOSE,(()=>{H||(H=!0,lt(Fe,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(C))})),nt(C,kl.EventType.ERROR,(J=>{H||(H=!0,Ts(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),tt.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),nt(C,kl.EventType.MESSAGE,(J=>{var St;if(!H){const dt=J.data[0];kt(!!dt,16349);const pt=dt,Mt=(pt==null?void 0:pt.error)||((St=pt[0])==null?void 0:St.error);if(Mt){lt(Fe,`RPC '${e}' stream ${o} received error:`,Mt);const yt=Mt.status;let bt=(function(w){const M=ve[w];if(M!==void 0)return pv(M)})(yt),N=Mt.message;bt===void 0&&(bt=$.INTERNAL,N="Unknown error status: "+yt+" with message "+Mt.message),H=!0,tt.a_(new ut(bt,N)),C.close()}else lt(Fe,`RPC '${e}' stream ${o} received:`,dt),tt.u_(dt)}})),nt(y,O_.STAT_EVENT,(J=>{J.stat===Gf.PROXY?lt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Gf.NOPROXY&&lt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){return new YA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class Iv{constructor(e,i,r,o,h,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gb extends Iv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ZA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ri(d.readTime):Et.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=td(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Kf(v)?{documents:WA(h,v)}:{query:tb(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=vv(h,d.resumeToken);const _=$f(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){y.readTime=Wu(h,d.snapshotVersion.toTimestamp());const _=$f(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=nb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.q_(i)}}class Qb extends Iv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=JA(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>$A(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class Yb extends Fb{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Jf(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut($.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Jf(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="RemoteStore";class Kb{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{br(this)&&(lt(Tr,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mc(_)})(this))}))})),this.Ra=new Xb(r,o)}}async function mc(s){if(br(s))for(const e of s.da)await e(!0)}async function lo(s){for(const e of s.da)await e(!1)}function xv(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xd(i)?Id(i):Is(i).O_()&&Nd(i,e))}function Vd(s,e){const i=At(s),r=Is(i);i.Ia.delete(e),r.O_()&&Mv(i,e),i.Ia.size===0&&(r.O_()?r.L_():br(i)&&i.Ra.set("Unknown"))}function Nd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Is(s).Y_(e)}function Mv(s,e){s.Va.Ue(e),Is(s).Z_(e)}function Id(s){s.Va=new HA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Is(s).start(),s.Ra.ua()}function xd(s){return br(s)&&!Is(s).x_()&&s.Ia.size>0}function br(s){return At(s).Ea.size===0}function Ov(s){s.Va=void 0}async function Zb(s){s.Ra.set("Online")}async function $b(s){s.Ia.forEach(((e,i)=>{Nd(s,e)}))}async function Jb(s,e){Ov(s),xd(s)?(s.Ra.ha(e),Id(s)):s.Ra.set("Unknown")}async function Wb(s,e,i){if(s.Ra.set("Online"),e instanceof _v&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){lt(Tr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ec(s,r)}else if(e instanceof ku?s.Va.Ze(e):e instanceof yv?s.Va.st(e):s.Va.tt(e),!i.isEqual(Et.min()))try{const r=await Vv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Mv(h,v);const C=new Ea(A.target,v,_,A.sequenceNumber);Nd(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){lt(Tr,"Failed to raise snapshot:",r),await ec(s,r)}}async function ec(s,e,i){if(!Ns(e))throw e;s.Ea.add(1),await lo(s),s.Ra.set("Offline"),i||(i=()=>Vv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Tr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await mc(s)}))}function Uv(s,e){return e().catch((i=>ec(s,i,e)))}async function gc(s){const e=At(s),i=Ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;tS(e);)try{const o=await Ub(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,eS(e,o)}catch(o){await ec(e,o)}zv(e)&&Lv(e)}function tS(s){return br(s)&&s.Ta.length<10}function eS(s,e){s.Ta.push(e);const i=Ia(s);i.O_()&&i.X_&&i.ea(e.mutations)}function zv(s){return br(s)&&!Ia(s).x_()&&s.Ta.length>0}function Lv(s){Ia(s).start()}async function nS(s){Ia(s).ra()}async function iS(s){const e=Ia(s);for(const i of s.Ta)e.ea(i.mutations)}async function aS(s,e,i){const r=s.Ta.shift(),o=Ad.from(r,e,i);await Uv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await gc(s)}async function rS(s,e){e&&Ia(s).X_&&await(async function(r,o){if((function(d){return kA(d)&&d!==$.ABORTED})(o.code)){const h=r.Ta.shift();Ia(r).B_(),await Uv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await gc(r)}})(s,e),zv(s)&&Lv(s)}async function r_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),lt(Tr,"RemoteStore received new credentials");const r=br(i);i.Ea.add(3),await lo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await mc(i)}async function sS(s,e){const i=At(s);e?(i.Ea.delete(2),await mc(i)):e||(i.Ea.add(2),await lo(i),i.Ra.set("Unknown"))}function Is(s){return s.ma||(s.ma=(function(i,r,o){const h=At(i);return h.sa(),new Gb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Zb.bind(null,s),t_:$b.bind(null,s),r_:Jb.bind(null,s),H_:Wb.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),xd(s)?Id(s):s.Ra.set("Unknown")):(await s.ma.stop(),Ov(s))}))),s.ma}function Ia(s){return s.fa||(s.fa=(function(i,r,o){const h=At(i);return h.sa(),new Qb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:nS.bind(null,s),r_:rS.bind(null,s),ta:iS.bind(null,s),na:aS.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await gc(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Tr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new Md(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Od(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ns(s))return new ut($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new vs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.ga=new se(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ws{constructor(e,i,r,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new ws(e,i,vs.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oS{constructor(){this.queries=l_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=l_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function l_(){return new Ar((s=>iv(s)),oc)}async function Pv(s,e){const i=At(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new lS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Od(d,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ud(i)}async function Bv(s,e){const i=At(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function uS(s,e){const i=At(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Ud(i)}function cS(s,e,i){const r=At(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Ud(s){s.Ca.forEach((e=>{e.next()}))}var id,o_;(o_=id||(id={})).Ma="default",o_.Cache="cache";class kv{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.key=e}}class qv{constructor(e){this.key=e}}class hS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=av(e),this.tu=new vs(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new s_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,C)=>{const x=o.get(A),H=uc(this.query,C)?C:null,tt=!!x&&this.mutatedKeys.has(x.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;x&&H?x.data.isEqual(H.data)?tt!==nt&&(r.track({type:3,doc:H}),J=!0):this.su(x,H)||(r.track({type:2,doc:H}),J=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(y=!0)):!x&&H?(r.track({type:0,doc:H}),J=!0):x&&!H&&(r.track({type:1,doc:x}),J=!0,(v||_)&&(y=!0)),J&&(H?(d=d.add(H),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,C)=>(function(H,tt){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return nt(H)-nt(tt)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new ws(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new qv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new jv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zd="SyncEngine";class fS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class dS{constructor(e){this.key=e,this.hu=!1}}class mS{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ar((y=>iv(y)),oc),this.Iu=new Map,this.Eu=new Set,this.du=new se(ft.comparator),this.Au=new Map,this.Ru=new Rd,this.Vu={},this.mu=new Map,this.fu=Rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gS(s,e,i=!0){const r=Xv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Hv(r,e,i,!0),o}async function pS(s,e){const i=Xv(s);await Hv(i,e,!0,!1)}async function Hv(s,e,i,r){const o=await zb(s.localStore,ii(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await yS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&xv(s.remoteStore,o),y}async function yS(s,e,i,r,o){s.pu=(C,x,H)=>(async function(nt,J,St,dt){let pt=J.view.ru(St);pt.Cs&&(pt=await t_(nt.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,pt))));const Mt=dt&&dt.targetChanges.get(J.targetId),yt=dt&&dt.targetMismatches.get(J.targetId)!=null,bt=J.view.applyChanges(pt,nt.isPrimaryClient,Mt,yt);return c_(nt,J.targetId,bt.au),bt.snapshot})(s,C,x,H);const h=await t_(s.localStore,e,!0),d=new hS(e,h.Qs),y=d.ru(h.documents),v=so.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);c_(s,i,_.au);const A=new fS(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function _S(s,e,i){const r=At(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!oc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ed(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Vd(r.remoteStore,o.targetId),ad(r,o.targetId)})).catch(Vs)):(ad(r,o.targetId),await ed(r.localStore,o.targetId,!0))}async function vS(s,e){const i=At(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Vd(i.remoteStore,r.targetId))}async function ES(s,e,i){const r=CS(s);try{const o=await(function(d,y){const v=At(d),_=te.now(),A=y.reduce(((H,tt)=>H.add(tt.key)),It());let C,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=Oi(),nt=It();return v.Ns.getEntries(H,A).next((J=>{tt=J,tt.forEach(((St,dt)=>{dt.isValidDocument()||(nt=nt.add(St))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,tt))).next((J=>{C=J;const St=[];for(const dt of y){const pt=UA(dt,C.get(dt.key).overlayedDocument);pt!=null&&St.push(new Oa(dt.key,pt,Z_(pt.value.mapValue),ai.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,St,y)})).next((J=>{x=J;const St=J.applyToLocalDocumentSet(C,nt);return v.documentOverlayCache.saveOverlays(H,J.batchId,St)}))})).then((()=>({batchId:x.batchId,changes:sv(C)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new se(Nt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await oo(r,o.changes),await gc(r.remoteStore)}catch(o){const h=Od(o,"Failed to persist write");i.reject(h)}}async function Gv(s,e){const i=At(s);try{const r=await Mb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await oo(i,r,e)}catch(r){await Vs(r)}}function u_(s,e,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=At(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,C)=>{for(const x of C.Sa)x.va(y)&&(_=!0)})),_&&Ud(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TS(s,e,i){const r=At(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new se(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const y=It().add(h),v=new fc(Et.min(),new Map,new se(Nt),d,y);await Gv(r,v),r.du=r.du.remove(h),r.Au.delete(e),Ld(r)}else await ed(r.localStore,e,!1).then((()=>ad(r,e,i))).catch(Vs)}async function AS(s,e){const i=At(s),r=e.batch.batchId;try{const o=await xb(i.localStore,e);Fv(i,r,null),Qv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await oo(i,o)}catch(o){await Vs(o)}}async function bS(s,e,i){const r=At(s);try{const o=await(function(d,y){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((C=>(kt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);Fv(r,e,i),Qv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await oo(r,o)}catch(o){await Vs(o)}}function Qv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Fv(s,e,i){const r=At(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ad(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Yv(s,r)}))}function Yv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Vd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ld(s))}function c_(s,e,i){for(const r of i)r instanceof jv?(s.Ru.addReference(r.key,e),SS(s,r)):r instanceof qv?(lt(zd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Yv(s,r.key)):_t(19791,{wu:r})}function SS(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(lt(zd,"New document in limbo: "+i),s.Eu.add(r),Ld(s))}function Ld(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new dS(i)),s.du=s.du.insert(i,r),xv(s.remoteStore,new Ea(ii(Ed(i.path)),r,"TargetPurposeLimboResolution",ac.ce))}}async function oo(s,e,i){const r=At(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){o.push(_);const C=Cd.As(v.targetId,_);h.push(C)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>K.forEach(_,(x=>K.forEach(x.Es,(H=>A.persistence.referenceDelegate.addReference(C,x.targetId,H))).next((()=>K.forEach(x.ds,(H=>A.persistence.referenceDelegate.removeReference(C,x.targetId,H)))))))))}catch(C){if(!Ns(C))throw C;lt(Dd,"Failed to update sequence numbers: "+C)}for(const C of _){const x=C.targetId;if(!C.fromCache){const H=A.Ms.get(x),tt=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(x,nt)}}})(r.localStore,h))}async function RS(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){lt(zd,"User change. New user:",e.toKey());const r=await Dv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ut($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oo(i,r.Ls)}}function wS(s,e){const i=At(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function Xv(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TS.bind(null,e),e.Pu.H_=uS.bind(null,e.eventManager),e.Pu.yu=cS.bind(null,e.eventManager),e}function CS(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bS.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ib(this.persistence,new Db,e.initialUser,this.serializer)}Cu(e){return new Cv(wd.mi,this.serializer)}Du(e){return new Pb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class DS extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new db(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Cv((r=>tc.mi(r,i)),this.serializer)}}class rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RS.bind(null,this.syncEngine),await sS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oS})()}createDatastore(e){const i=dc(e.databaseInfo.databaseId),r=(function(h){return new Hb(h)})(e.databaseInfo);return(function(h,d,y,v){return new Yb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new Kb(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>u_(this.syncEngine,i,0)),(function(){return i_.v()?new i_:new Bb})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const C=new mS(o,h,d,y,v,_);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);lt(Tr,"RemoteStore shutting down."),h.Ea.add(5),await lo(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}rd.provider={build:()=>new rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class VS{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{lt(xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Od(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lf(s,e){s.asyncQueue.verifyOperationInProgress(),lt(xa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Dv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function h_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await NS(s);lt(xa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>r_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>r_(e.remoteStore,o))),s._onlineComponents=e}async function NS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(xa,"Using user provided OfflineComponentProvider");try{await Lf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Lf(s,new nc)}}else lt(xa,"Using default OfflineComponentProvider"),await Lf(s,new DS(void 0));return s._offlineComponents}async function Zv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(xa,"Using user provided OnlineComponentProvider"),await h_(s,s._uninitializedComponentsProvider._online)):(lt(xa,"Using default OnlineComponentProvider"),await h_(s,new rd))),s._onlineComponents}function IS(s){return Zv(s).then((e=>e.syncEngine))}async function $v(s){const e=await Zv(s),i=e.eventManager;return i.onListen=gS.bind(null,e.syncEngine),i.onUnlisten=_S.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vS.bind(null,e.syncEngine),i}function xS(s,e,i={}){const r=new Ii;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Kv({next:x=>{A.Nu(),d.enqueueAndForget((()=>Bv(h,C)));const H=x.docs.has(y);!H&&x.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&v&&v.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),C=new kv(Ed(y.path),A,{includeMetadataChanges:!0,qa:!0});return Pv(h,C)})(await $v(s),s.asyncQueue,e,i,r))),r.promise}function MS(s,e,i={}){const r=new Ii;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Kv({next:x=>{A.Nu(),d.enqueueAndForget((()=>Bv(h,C))),x.fromCache&&v.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),C=new kv(y,A,{includeMetadataChanges:!0,qa:!0});return Pv(h,C)})(await $v(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firestore.googleapis.com",d_=!0;class m_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wv,this.ssl=d_}else this.host=e.host,this.ssl=e.ssl??d_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hb)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PT;switch(r.type){case"firstParty":return new qT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=f_.get(i);r&&(lt("ComponentProvider","Removing Datastore"),f_.delete(i),r.terminate())})(this),Promise.resolve()}}function OS(s,e,i,r={}){var _;s=wa(s,pc);const o=cd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(h1(`https://${y}`),g1("Firestore",!0)),h.host!==Wv&&h.host!==y&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!Hu(v,d)&&(s._setSettings(v),r.mockUserToken)){let A,C;if(typeof r.mockUserToken=="string")A=r.mockUserToken,C=Ye.MOCK_USER;else{A=f1(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(x)}s._authCredentials=new BT(new P_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class we{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ao(i,we._jsonSchema))return new we(e,r||null,new ft(Wt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ee("string",we._jsonSchemaVersion),referencePath:Ee("string")};class Sa extends yc{constructor(e,i,r){super(e,i,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new ft(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function g_(s,e,...i){if(s=Ra(s),B_("collection","path",e),s instanceof pc){const r=Wt.fromString(e,...i);return Dy(r),new Sa(s,null,r)}{if(!(s instanceof we||s instanceof Sa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Dy(r),new Sa(s.firestore,null,r)}}function sd(s,e,...i){if(s=Ra(s),arguments.length===1&&(e=dd.newId()),B_("doc","path",e),s instanceof pc){const r=Wt.fromString(e,...i);return Cy(r),new we(s,null,new ft(r))}{if(!(s instanceof we||s instanceof Sa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Cy(r),new we(s.firestore,s instanceof Sa?s.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="AsyncQueue";class y_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nv(this,"async_queue_retry"),this._c=()=>{const r=zf();r&&lt(p_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ns(e))throw e;lt(p_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",__(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Md.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:__(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function __(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class uo extends pc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function US(s,e){const i=typeof s=="object"?s:RT(),r=typeof s=="string"?s:Yu,o=ET(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=u1("firestore");h&&OS(o,...h)}return o}function Pd(s){if(s._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zS(s),s._firestoreClient}function zS(s){var r,o,h;const e=s._freezeSettings(),i=(function(y,v,_,A){return new rA(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Jv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VS(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(ke.fromBase64String(e))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ao(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(ao(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Ee("string",si._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ao(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new li(e.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ee("string",li._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=/^__.*__$/;class PS{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}class t0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function e0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class kd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(e0(this.Ac)&&LS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BS{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||dc(e)}Cc(e,i,r,o=!1){return new kd({Ac:e,methodName:i,Dc:r,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(s){const e=s._freezeSettings(),i=dc(s._databaseId);return new BS(s._databaseId,!!e.ignoreUndefinedProperties,i)}function kS(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);jd("Data must be an object, but it was:",d,r);const y=i0(r,d);let v,_;if(h.merge)v=new yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const x=ld(e,C,i);if(!d.contains(x))throw new ut($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);r0(A,x)||A.push(x)}v=new yn(A),_=d.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,_=d.fieldTransforms;return new PS(new on(y),v,_)}class vc extends Bd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vc}}function jS(s,e,i,r){const o=s.Cc(1,e,i);jd("Data must be an object, but it was:",o,r);const h=[],d=on.empty();Ma(r,((v,_)=>{const A=qd(e,v,i);_=Ra(_);const C=o.yc(A);if(_ instanceof vc)h.push(A);else{const x=Ec(_,C);x!=null&&(h.push(A),d.set(A,x))}}));const y=new yn(h);return new t0(d,y,o.fieldTransforms)}function qS(s,e,i,r,o,h){const d=s.Cc(1,e,i),y=[ld(e,r,i)],v=[o];if(h.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)y.push(ld(e,h[x])),v.push(h[x+1]);const _=[],A=on.empty();for(let x=y.length-1;x>=0;--x)if(!r0(_,y[x])){const H=y[x];let tt=v[x];tt=Ra(tt);const nt=d.yc(H);if(tt instanceof vc)_.push(H);else{const J=Ec(tt,nt);J!=null&&(_.push(H),A.set(H,J))}}const C=new yn(_);return new t0(A,C,d.fieldTransforms)}function Ec(s,e){if(a0(s=Ra(s)))return jd("Unsupported field value:",e,s),i0(s,e);if(s instanceof Bd)return(function(r,o){if(!e0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let v=Ec(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:Wu(o.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wu(o.serializer,h)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:vv(o.serializer,r._byteString)};if(r instanceof we){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Sd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof li)return(function(d,y){return{mapValue:{fields:{[X_]:{stringValue:K_},[Xu]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Td(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${md(r)}`)})(s,e)}function i0(s,e){const i={};return q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(s,((r,o)=>{const h=Ec(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function a0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof si||s instanceof Nn||s instanceof we||s instanceof Bd||s instanceof li)}function jd(s,e,i){if(!a0(i)||!k_(i)){const r=md(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function ld(s,e,i){if((e=Ra(e))instanceof _c)return e._internalPath;if(typeof e=="string")return qd(s,e);throw ic("Field path arguments must be of type string or ",s,!1,void 0,i)}const HS=new RegExp("[~\\*/\\[\\]]");function qd(s,e,i){if(e.search(HS)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _c(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ic(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ut($.INVALID_ARGUMENT,y+s+v)}function r0(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(l0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GS extends s0{data(){return super.data()}}function l0(s,e){return typeof e=="string"?qd(s,e):e instanceof _c?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FS{convertValue(e,i="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ma(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[Xu].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new li(i)}convertGeoPoint(e){return new si(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=sc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=Da(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);kt(Rv(r),9688,{name:e});const o=new to(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vr extends s0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(l0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",vr._jsonSchema={type:Ee("string",vr._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class ju extends vr{data(e={}){return super.data(e)}}class Es{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ju(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ju(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Hl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new ju(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Hl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:XS(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Es._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XS(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(s){s=wa(s,we);const e=wa(s.firestore,uo);return xS(Pd(e),s._key).then((i=>WS(e,s,i)))}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:Ee("string",Es._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class o0 extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function ZS(s){s=wa(s,yc);const e=wa(s.firestore,uo),i=Pd(e),r=new o0(e);return QS(s._query),MS(i,s._query).then((o=>new Es(e,r,s,o)))}function $S(s,e,i,...r){s=wa(s,we);const o=wa(s.firestore,uo),h=n0(o);let d;return d=typeof(e=Ra(e))=="string"||e instanceof _c?qS(h,"updateDoc",s._key,e,i,r):jS(h,"updateDoc",s._key,e),u0(o,[d.toMutation(s._key,ai.exists(!0))])}function JS(s,e){const i=wa(s.firestore,uo),r=sd(s),o=YS(s.converter,e);return u0(i,[kS(n0(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function u0(s,e){return(function(r,o){const h=new Ii;return r.asyncQueue.enqueueAndForget((async()=>ES(await IS(r),o,h))),h.promise})(Pd(s),e)}function WS(s,e,i){const r=i.docs.get(e._key),o=new o0(s);return new vr(s,o,e._key,r,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(ST),Qu(new Zl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new uo(new kT(r.getProvider("auth-internal")),new HT(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),_s(by,Sy,e),_s(by,Sy,"esm2020")})();const Pf={apiKey:"AIzaSyDHCUsPv3p7dd_tc_qC6TyBKAWHhFnskx4",authDomain:"dci-screening.firebaseapp.com",projectId:"dci-screening",storageBucket:"dci-screening.firebasestorage.app",messagingSenderId:"423342387154",appId:"1:423342387154:web:646b2ea099de5b84f6620b"};let v_,Gl,va=!1;if(Pf.projectId&&Pf.projectId!=="YOUR_PROJECT_ID")try{v_=D_(Pf),Gl=US(v_),va=!0}catch(s){console.error("Firebase initialization failed:",s),alert("Firebase initialization failed. Please check your configuration in firebase.ts and the browser console for more details.")}else console.warn("Firebase is not configured. 'Save & Load' functionality is disabled. Please update firebase.ts with your project configuration.");const t2=()=>{const[s,e]=tn.useState(""),[i,r]=tn.useState("#667eea"),[o,h]=tn.useState("#764ba2"),[d,y]=tn.useState(""),[v,_]=tn.useState(""),[A,C]=tn.useState(new Date().getFullYear()),[x,H]=tn.useState([{id:Date.now(),name:"",impressions:null,reach:null,clicks:null,ctr:null}]),[tt,nt]=tn.useState([{id:Date.now(),name:"",activeMonths:Array(12).fill(!1)}]),[J,St]=tn.useState([]),[dt,pt]=tn.useState(""),[Mt,yt]=tn.useState(null),bt="w-full p-2 border border-slate-600 bg-slate-700 text-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 placeholder-slate-400",N="w-full p-2 border border-gray-300 bg-white text-slate-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",b=(z,Y)=>{yt({message:z,type:Y})},w=()=>{H([...x,{id:Date.now(),name:"",impressions:null,reach:null,clicks:null,ctr:null}])},M=z=>{H(x.filter(Y=>Y.id!==z))},V=(z,Y,at)=>{H(x.map(st=>st.id===z?{...st,[Y]:at}:st))},U=()=>{nt([...tt,{id:Date.now(),name:"",activeMonths:Array(12).fill(!1)}])},R=z=>{nt(tt.filter(Y=>Y.id!==z))},ee=(z,Y)=>{nt(tt.map(at=>at.id===z?{...at,name:Y}:at))},Kt=(z,Y)=>{nt(tt.map(at=>{if(at.id===z){const st=[...at.activeMonths];return st[Y]=!st[Y],{...at,activeMonths:st}}return at}))},G=z=>{const Y=z.getDate().toString().padStart(2,"0"),at=Bl[z.getMonth()].slice(0,3).toUpperCase(),st=z.getFullYear();return`${Y}-${at}-${st}`},it=()=>{const z=!v||d===v?`${d} ${A}`:`${d}-${v.slice(0,3)} ${A}`,Y=G(new Date);return{reportName:`[${s}] - [${z}] - [${Y}]`,brandName:s,primaryColor:i,secondaryColor:o,startMonth:d,endMonth:v,year:A,platforms:x.map(({id:st,...ie})=>ie),channels:tt.map(({id:st,...ie})=>ie)}},ct=tn.useCallback(async()=>{if(va)try{const z=g_(Gl,"reports"),at=(await ZS(z)).docs.map(st=>({id:st.id,name:st.data().reportName||"Untitled Report"}));St(at),at.length>0?b(`Successfully fetched ${at.length} report(s).`,"success"):b("Connected to Firestore, but no saved reports were found.","info")}catch(z){console.error("Error fetching reports: ",z);let Y="Could not fetch reports. Check Firestore rules.";z.code==="unavailable"&&(Y="Connection Error: Check internet and Firebase setup."),b(Y,"error")}},[]),xt=async()=>{if(!va){b("Firebase is not configured. Cannot save.","error");return}if(!s.trim()||!d){b("Brand Name and Start Month are required.","error");return}const z=it();try{const Y=await JS(g_(Gl,"reports"),z);b(`Report "${z.reportName}" saved successfully!`,"success"),await ct(),pt(Y.id)}catch(Y){console.error("Error saving new report: ",Y);let at="Failed to save report. Check Firestore rules.";Y.code==="unavailable"&&(at="Connection Error: Check internet and Firebase setup."),b(at,"error")}},D=async()=>{if(!dt){b("No report is loaded. Cannot update.","info");return}const z=it();try{const Y=sd(Gl,"reports",dt);await $S(Y,z),b(`Report "${z.reportName}" updated successfully!`,"success"),await ct()}catch(Y){console.error("Error updating report: ",Y);let at="Failed to update report. Check Firestore rules.";Y.code==="unavailable"&&(at="Connection Error: Check internet and Firebase setup."),b(at,"error")}},Z=async()=>{if(!va||!dt){b("Please select a report to load.","info");return}try{const z=sd(Gl,"reports",dt),Y=await KS(z);if(Y.exists()){const at=Y.data();e(at.brandName||""),r(at.primaryColor||"#667eea"),h(at.secondaryColor||"#764ba2"),y(at.startMonth||""),_(at.endMonth||""),C(at.year||new Date().getFullYear()),H((at.platforms||[]).map(st=>({...st,id:Date.now()+Math.random()}))),nt((at.channels||[]).map(st=>({...st,id:Date.now()+Math.random()}))),b(`Report "${at.reportName||"Untitled"}" loaded successfully!`,"success")}else b("Report not found.","error")}catch(z){console.error("Error loading report: ",z);let Y="Failed to load report. Check Firestore rules.";z.code==="unavailable"&&(Y="Connection Error: Check internet and Firebase setup."),b(Y,"error")}},rt=tn.useCallback(()=>{const z=x.reduce((pe,je)=>pe+Number(je.impressions),0),Y=x.reduce((pe,je)=>pe+Number(je.reach),0),at=x.reduce((pe,je)=>pe+Number(je.clicks),0),st=z>0?at/z*100:0,ie={totalImpressions:z,totalReach:Y,totalClicks:at,weightedAvgCTR:st},Bt=!v||d===v?`${d} ${A}`:`${d} - ${v} ${A}`;let en=0;if(tt.some(pe=>pe.activeMonths.some(je=>je))){for(let pe=0;pe<12;pe++)if(tt.some(je=>je.activeMonths[pe])){en=pe;break}}const Ui=$E({brandName:s,primaryColor:i,secondaryColor:o,reportingPeriod:Bt,platforms:x,overallResults:ie,channels:tt,firstActiveMonthIndex:en}),jn=window.open();jn&&(jn.document.write(Ui),jn.document.close())},[s,i,o,d,v,A,x,tt]);return W.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-800 p-4 sm:p-8",children:W.jsxs("div",{className:"max-w-4xl mx-auto",children:[W.jsxs("header",{className:"text-center mb-8",children:[W.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Marketing Dashboard Generator"}),W.jsx("p",{className:"text-slate-600 mt-2",children:"Fill in the details below and click generate to create your custom dashboard."})]}),W.jsxs("div",{className:"space-y-8",children:[va?W.jsx(ds,{title:"Load Reports",children:W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsxs("select",{value:dt,onChange:z=>pt(z.target.value),className:`${N} flex-grow`,"aria-label":"Load a saved report",children:[W.jsx("option",{value:"",disabled:!0,children:"Select a report to load..."}),J.map(z=>W.jsx("option",{value:z.id,children:z.name},z.id))]}),W.jsx("button",{onClick:ct,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors whitespace-nowrap",title:"Refresh report list",children:"Refresh"}),W.jsx("button",{onClick:Z,className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:bg-gray-400 whitespace-nowrap",disabled:!dt,children:"Load Report"})]})}):W.jsx(ds,{title:"Save & Load Reports (Disabled)",children:W.jsx("div",{className:"text-center p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:W.jsxs("p",{className:"text-sm text-yellow-800",children:["To enable saving and loading, update ",W.jsx("code",{children:"firebase.ts"})," with your Firebase project configuration."]})})}),W.jsx(ds,{title:"1. General Information",children:W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"brandName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand Name"}),W.jsx("input",{type:"text",id:"brandName",value:s,onChange:z=>e(z.target.value),className:bt})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reporting Period"}),W.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[W.jsxs("select",{value:d,onChange:z=>y(z.target.value),className:N,children:[W.jsx("option",{value:"",disabled:!0,children:"Month"}),Bl.map(z=>W.jsx("option",{value:z,children:z},`start-${z}`))]}),W.jsxs("select",{value:v,onChange:z=>_(z.target.value),className:N,children:[W.jsx("option",{value:"",children:"None"}),Bl.map(z=>W.jsx("option",{value:z,children:z},`end-${z}`))]}),W.jsx("select",{value:A,onChange:z=>C(Number(z.target.value)),className:N,children:ZE.map(z=>W.jsx("option",{value:z,children:z},z))})]})]})]})}),W.jsx(ds,{title:"2. Design Customization",children:W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-slate-700 mb-1",children:"Primary Color"}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{type:"color",id:"primaryColor",value:i,onChange:z=>r(z.target.value),className:"p-1 h-10 w-10 block bg-white border border-gray-300 rounded-md cursor-pointer"}),W.jsx("input",{type:"text",value:i,onChange:z=>r(z.target.value),className:bt})]})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"secondaryColor",className:"block text-sm font-medium text-slate-700 mb-1",children:"Secondary Color"}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{type:"color",id:"secondaryColor",value:o,onChange:z=>h(z.target.value),className:"p-1 h-10 w-10 block bg-white border border-gray-300 rounded-md cursor-pointer"}),W.jsx("input",{type:"text",value:o,onChange:z=>h(z.target.value),className:bt})]})]})]})}),W.jsxs(ds,{title:"3. Platform Performance",children:[W.jsxs("div",{className:"hidden md:grid md:grid-cols-6 gap-2 items-center px-3 mb-2",children:[W.jsx("div",{className:"md:col-span-2 text-sm font-medium text-slate-600",children:"Platform Name"}),W.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Impressions"}),W.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Reach"}),W.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Clicks"}),W.jsx("div",{className:"text-sm font-medium text-slate-600",children:"CTR"})]}),W.jsx("div",{className:"space-y-4",children:x.map(z=>W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 items-center p-3 bg-slate-50 rounded-md border",children:[W.jsx("input",{type:"text",placeholder:"Platform Name",value:z.name,onChange:Y=>V(z.id,"name",Y.target.value),className:`${bt} md:col-span-2`}),W.jsx("input",{type:"number",placeholder:"Impressions",value:z.impressions??"",onChange:Y=>V(z.id,"impressions",Y.target.value===""?null:Number(Y.target.value)),className:bt}),W.jsx("input",{type:"number",placeholder:"Reach",value:z.reach??"",onChange:Y=>V(z.id,"reach",Y.target.value===""?null:Number(Y.target.value)),className:bt}),W.jsx("input",{type:"number",placeholder:"Clicks",value:z.clicks??"",onChange:Y=>V(z.id,"clicks",Y.target.value===""?null:Number(Y.target.value)),className:bt}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{type:"number",step:"0.01",placeholder:"CTR",value:z.ctr??"",onChange:Y=>V(z.id,"ctr",Y.target.value===""?null:Number(Y.target.value)),className:bt}),W.jsx("button",{onClick:()=>M(z.id),className:"text-red-500 hover:text-red-700 p-2",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]})]},z.id))}),W.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Add Platform"})]}),W.jsxs(ds,{title:"4. Media Timeline",children:[W.jsx("div",{className:"space-y-4",children:tt.map(z=>W.jsxs("div",{className:"p-3 bg-slate-50 rounded-md border",children:[W.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[W.jsx("input",{type:"text",placeholder:"Channel Name",value:z.name,onChange:Y=>ee(z.id,Y.target.value),className:`${bt} flex-grow`}),W.jsx("button",{onClick:()=>R(z.id),className:"text-red-500 hover:text-red-700 p-2",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]}),W.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:Bl.map((Y,at)=>W.jsxs("label",{className:"flex items-center space-x-2 text-sm cursor-pointer",children:[W.jsx("input",{type:"checkbox",checked:z.activeMonths[at],onChange:()=>Kt(z.id,at),className:"rounded text-indigo-600 focus:ring-indigo-500"}),W.jsx("span",{children:Y.slice(0,3)})]},Y))})]},z.id))}),W.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Add Channel"})]}),W.jsxs("div",{className:"text-center pt-4 flex flex-col md:flex-row items-center justify-center gap-4",children:[dt?W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:D,className:"w-full md:w-auto px-12 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-lg hover:bg-blue-700 transform hover:-translate-y-1 transition-all duration-300 disabled:bg-gray-400",disabled:!va,children:"Update Report"}),W.jsx("button",{onClick:xt,className:"w-full md:w-auto px-12 py-3 bg-gray-700 text-white font-bold rounded-lg shadow-lg hover:bg-gray-800 transform hover:-translate-y-1 transition-all duration-300 disabled:bg-gray-400",disabled:!va,children:"Save as New"})]}):W.jsx("button",{onClick:xt,className:"w-full md:w-auto px-12 py-3 bg-gray-700 text-white font-bold rounded-lg shadow-lg hover:bg-gray-800 transform hover:-translate-y-1 transition-all duration-300 disabled:bg-gray-400",disabled:!va,children:"Save Report"}),W.jsx("button",{onClick:rt,className:"w-full md:w-auto px-12 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:"Generate Dashboard"})]})]}),W.jsx("footer",{className:"text-center mt-8 py-4",children:W.jsx("p",{className:"text-xs text-slate-500",children:"©MagnaPharm 2025"})}),Mt&&W.jsx(JE,{message:Mt.message,type:Mt.type,onClose:()=>yt(null)})]})})},c0=document.getElementById("root");if(!c0)throw new Error("Could not find root element to mount to");const e2=KE.createRoot(c0);e2.render(W.jsx(jE.StrictMode,{children:W.jsx(t2,{})}));
